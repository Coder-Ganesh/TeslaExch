if(typeof(PathHandler)=="undefined"){PathHandler={}}(function(){PathHandler.model={nodeList:[],popList:[]};PathHandler.init=function(){var l=JsCache.get("#agentPath");var h=PageConfig.pathObj?PageConfig.pathObj:PathHandler.model;if(PageConfig.isMemberModule&&h.nodeList.length<=1){l.hide()}if(PageConfig.isMemberModule&&PageConfig.agentLevel==UserType.COMPANY.value){l.addClass("currency_tag_all");l.find("#pathCurrency").show().find("strong").text(h.currencyName)}for(var f=0;f<h.nodeList.length;f++){var d=h.nodeList[f];var m=l.find("#path"+d.userType);var k=m.find("strong");k.text(d.userID);m.show();if(f+1==h.nodeList.length){m.addClass("last_li");if(typeof(IndexHandler)=="undefined"&&h.popList&&h.popList.length>0){m.addClass("drop_down_li");var b="display: none;";if(h.popList.length>10){b+="height: 310px"}var g=$j("#accountPop");g.css(b);g.appendTo(m);for(var e=0;e<h.popList.length;e++){var c=g.find("#popTmp").clone();c.attr("id","");var a=h.popList[e];c.find("a").attr("href",window.location.pathname+"?uid="+a).text(a);c.show();g.append(c)}$j(document).click(function(){JsCache.get("#accountPop").hide()});m.click(function(i){$j("#accountPop").toggle();i.stopPropagation()})}}}PathHandler.bindClick()};PathHandler.goAhead=function(a){JsCache.get("#agentPath").show();var b=JsCache.get("#agentPath").find(".last_li");b.removeClass("last_li");var c=$j("#path"+PageConfig.queryAccountLevel);c.find("strong").text(a);c.addClass("last_li").show();c.prev().show()};PathHandler.goBack=function(a){if(!a.hasClass("last_li")){a.nextAll().each(function(){$j(this).removeClass("last_li").hide()});a.addClass("last_li")}};PathHandler.bindClick=function(){var c=JsCache.get("#agentPath").children("li");var a=c.length;var b=0;c.each(function(f,g){var d=$j(g);var h=d.attr("id");if(h=="pathCurrency"||parseInt(h.replace("path",""))>PageConfig.agentLevel){return}var e="";if(b==0){e=HomePageType.AGENT.url}else{if(b<a-2&&b>0&&!d.hasClass("last_li")){if(typeof(IndexHandler)!="undefined"){d.click(function(){var i=$j(this);PathHandler.goBack(i);var j=i.find("strong");if(i.prev().find("strong").text().trim()==""){PageConfig.queryAccountID="";PageConfig.queryAccountLevel="";JsCache.get("#agentPath").hide()}else{PageConfig.queryAccountID=j.text().trim()}PageConfig.queryAccountLevel=parseInt(i.attr("id").replace("path",""));IndexHandler.listMember()})}else{e="/agent?queryAccountID="+d.find("strong").text().trim()+"&queryAccountLevel="+d.attr("id").replace("path","")}}}if(e!=""){d.click(function(){location.href=e})}b++})}})();