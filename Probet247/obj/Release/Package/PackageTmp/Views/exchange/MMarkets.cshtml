
@{
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<div class="main-content-container">
    <input id="hideinnput" type="hidden" value="99" />
    <input id="sessionBfID" type="hidden" value="@ViewBag.BetfairId" />
    <input id="sessionEVID" type="hidden" value="@ViewBag.EventCode" />
    <input id="sessionBfSportID" type="hidden" value="@ViewBag.Event_Type_Id" />
    <input id="Time_Stamp" type="hidden" value="@ViewBag.Time_Stamp" />
    <input id="sessionBFOTHID" type="hidden" value="" />
    <input id="x_code" type="hidden" value="@ViewBag.x_code" />
    <input id="x_type" type="hidden" value="@ViewBag.x_type" />
    <input id="book_id" type="hidden" value="@ViewBag.book_id" />
    <input id="is_fancy" type="hidden" value="@ViewBag.is_fancy" />
    <div class="content navbar">
        <div style="width: 100%;">
            <div class="comp-new-event-header main-view-header">
                @{ var tvavai = "none";}
                @if (@ViewBag.tv_ch != "0" && @Session["UserName"] != "" && @Session["UserName"] != null)
                {
                    tvavai = "";
                }
                @{ var bookavai = "none";}
                @if (@ViewBag.book_id != "0" && @Session["UserName"] != "" && @Session["UserName"] != null)
                {
                    bookavai = "block";
                }
                @{ var otherno = "none";}
                @if (@ViewBag.Event_Type_Id != "2")
                {
                    otherno = "";
                }
                <div class="bf-livescores full">
                    <div class="results-board">
                        <div class="ui-live-stream-button" id="hidelivetv" style="display: @tvavai;">
                            <div class="live-stream-icon">
                                <span class="sprite-live-stream-icon svg-block"></span>
                            </div>
                            <div class="live-stream-chevron">
                                <span class="sprite-chevron-down svg-block"></span>
                            </div>
                        </div>

                        <div class="bf-livescores-runners" style="float:left;">
                            <div class="runner home seed-with-0-digits">
                                <span class="name" id="TeamARunnerName">@ViewBag.teama</span>
                            </div><br>
                            <div class="runner away seed-with-0-digits">
                                <span class="name" id="TeamBRunnerName">@ViewBag.teamb</span>
                            </div>
                        </div>
                        <div class="bf-livescores-start-date" style="background: unset;display:none;">
                            <div class="start-date-wrapper">
                                <span class="label" id="Event_match_time">@ViewBag.Event_TimeDB</span>
                            </div>
                        </div>
                        <div id="cricket_score" class="team-innings" style="float:right;display: none; height: 50px;font-weight: 700;">
                            <div class="inning bf-col-11-24" id="inning1data" style="background-color: #303030;">
                                <div class="cell" id="inning1TeamA" style="height: 17px;">
                                    <span class="score-big" id="TeamARuns" style="font-size: 11px;"></span>
                                    <span class="score-big" id="TeamAWickets" style="font-size: 11px;"></span>
                                    <span class="score-small-padding" id="TeamAOvers" style="font-size: 9px;"></span>
                                </div>
                                <div class="cell" id="inning1TeamB" style="height: 17px; width: 90px;">
                                    <span class="score-big" id="TeamBRuns" style="font-size: 11px;"></span>
                                    <span class="score-big" id="TeamBWickets" style="font-size: 11px;"></span>
                                    <span class="score-small-padding" id="TeamBOvers" style="font-size: 9px;"></span>
                                </div>
                            </div>
                            <div class="inning bf-col-11-24" id="inning2data" style="background-color: #303030;">
                                <div class="cell" id="inning2TeamA" style="height: 17px; width: 90px;">
                                    <span class="score-big" id="TeamARuns1" style="font-size: 11px;"></span>
                                    <span class="score-big" id="TeamAWickets1" style="font-size: 11px;"></span>
                                    <span class="score-small-padding" id="TeamAOvers1" style="font-size: 9px;"></span>
                                </div>
                                <div class="cell" id="inning2TeamB" style="height: 17px; width: 90px;">
                                    <span class="score-big" id="TeamBRuns1" style="font-size: 11px;"></span>
                                    <span class="score-big" id="TeamBWickets1" style="font-size: 11px;"></span>
                                    <span class="score-small-padding" id="TeamBOvers1" style="font-size: 9px;"></span>
                                </div>
                            </div>
                        </div>
                        <div id="tennis_score" class="team-innings" style="float:right;display: none; height: 50px;font-weight: 700;">
                            <div class="scores tennis-points" style="width: 31px;text-align: center; height: 48px; background-color: #303030;border-left: 1px solid #424242;border-right: 1px solid #424242;">
                                <div class="cell" style="padding:0px;height: 17px;font-size: 12px;">
                                    <span class="highlight" id="teamAwin"></span>
                                </div>
                                <div class="cell" style="padding:0px;height: 17px;font-size: 12px;">
                                    <span class="highlight" id="teamBwin"></span>
                                </div>
                            </div>
                            <div class="scores tennis-sets" style="height: 48px; background-color: #303030;">
                                <div class="home">
                                    <div id="home_sets"></div>
                                </div>
                                <div class="away">
                                    <div id="away_sets"></div>
                                </div>
                            </div>
                            <div class="scores tennis-points" style="width: 31px;text-align: center; height: 48px; background-color: #303030;border-left: 1px solid #424242;border-right: 1px solid #424242;">
                                <div class="cell" style="padding:0px;height: 17px;font-size: 12px;">
                                    <span class="highlight" id="score1"></span>
                                </div>
                                <div class="cell" style="padding:0px;height: 17px;font-size: 12px;">
                                    <span class="highlight" id="score2"></span>
                                </div>
                            </div>
                        </div>
                        <div id="football_score" class="team-innings" style="float:right;display: none; height: 50px;font-weight: 700;">
                            <div class="scores tennis-points" style="width: 31px;text-align: center; height: 48px; background-color: #303030;border-left: 1px solid #424242;border-right: 1px solid #424242;">
                                <div class="cell" style="padding:0px; height: 17px;font-size: 12px;">
                                    <span class="highlight" id="home_score_f"></span>
                                </div>
                                <div class="cell" style="padding:0px; height: 17px;font-size: 12px;">
                                    <span class="highlight" id="away_score_f"></span>
                                </div>
                            </div>
                            <div class="scores tennis-points" id="time_escaped" style="width: 31px;text-align: center;padding-top:15px; height: 48px; background-color: #303030;border-left: 1px solid #424242;border-right: 1px solid #424242;">

                            </div>
                        </div>
                    </div>
                    <div class="timeline-penalties-container" id="soccer_score" style="display:none;">
                        <div class="timeline-container">
                            <div class="timeline">
                                <div class="half firstHalf">
                                    <div class="empty-bar">
                                        <div id="firsthalf"></div>
                                        <div class="bar" style="width: 0%;" id="firstbar"></div>
                                    </div>
                                </div>
                                <div class="half secondHalf" id="secondhalf">
                                    <div class="empty-bar">
                                        <div class="bar" style="width: 0%;" id="secondbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="live_tv_view" style="width:100%;height:230px; display:none;">
            <iframe src="~/exchange/LiveLive/@ViewBag.EventCode" width="100%" height="225" frameborder="0" scrolling="no" allow="autoplay;"></iframe>
        </div>

        <div class="market-view-container">
            <div class="ui-ribbon" style="display : @otherno;">
                <ul class="list">
                    <li class="item tablinks" onclick="match_filter(event, 'popular')" id="defaulttab">
                        <button class="link">
                            <div class="container">
                                <div class="title">Popular</div>
                            </div>
                        </button>
                    </li>
                    <li class="item tablinks" onclick="match_filter(event, 'all_other_markets')">
                        <button class="link">
                            <div class="container">
                                <div class="title">Other</div>
                            </div>
                        </button>
                    </li>
                </ul>
            </div>
            <div class="market-view">
                <div class="comp-market tabcontent" id="popular">
                    <div class="_2OT3f">
                        <div class="_3S9GR">
                            <span class="_2Gef4 _1k8eu _19Fp5 _3lvH3">Match Odds</span>
                        </div>
                        <div>
                            <span class="_19Fp5" style="font-size: smaller;" id="MinMacxS">Min-1 &amp; Max-3000</span>
                        </div>
                    </div>
                    <div class="runners-list">
                        <div class="runners-list-header">
                            <h3 class="left-content">
                                <span class="label" style="color:black;font-size:100%;">Matched</span>:
                                <span class="label normal-text" style="color:black;font-size:100%;" id="MAtchedVolume"></span>
                            </h3>
                            <h3 class="right-content">
                                <span class="label" style="color:black;font-size:100%;width:63px;">back</span>
                                <span class="label" style="color:black;font-size:100%;width:63px;">lay</span>
                            </h3>
                        </div>
                        <div id="match_odds_data_loader">
                            <img src="~/Content/images/prospin.gif" style="display: block; margin:auto;margin-top:15px;margin-bottom:15px;">
                        </div>
                        <div id="match_odds_data"></div>
                    </div>
                    <div class="_2OT3f" id="book_is_id" style="display:none;">
                        <div class="_3S9GR">
                            <span class="_2Gef4 _1k8eu _19Fp5 _3lvH3">Bookmaker | Zero Com. | Fast Bet</span>
                        </div>
                        <div>
                            <span class="_19Fp5" style="font-size: smaller;">Min-100 &amp; Max-@ViewBag.max_limit_mo_bm</span>
                        </div>
                    </div>
                    <div class="runners-list" style="display: @bookavai;">
                        <div class="runners-list-header">
                            <h3 class="left-content">
                            </h3>
                            <h3 class="right-content">
                                <span class="label" style="color:black;font-size:100%;width:63px;">back</span>
                                <span class="label" style="color:black;font-size:100%;width:63px;">lay</span>
                            </h3>
                        </div>
                        <div id="match_odds_data_loader_bm">
                            <img src="~/Content/images/prospin.gif" style="display: block; margin:auto;margin-top:15px;margin-bottom:15px;">
                        </div>
                        <div id="match_odds_data_bm"></div>
                    </div>
                    <div id="SessionData" style="display:none;">
                        <div class="_2OT3f">
                            <div class="_3S9GR">
                                <span class="_2Gef4 _1k8eu _19Fp5 _3lvH3">Fancy List</span>
                            </div>

                        </div>
                        <div>
                            <div class="runners-list-header">
                                <h3 class="left-content">
                                    Market Name
                                </h3>
                                <h3 class="right-content">
                                    <span class="label" style="color:black;font-size:100%;width:63px;">NOT</span>
                                    <span class="label" style="color:black;font-size:100%;width:63px;">YES</span>
                                </h3>
                            </div>
                        </div>
                        <div id="session_rate_data_loader"></div>
                        <div id="session_rate_data"></div>
                    </div>
                    <div id="SessionDataP" style="display:none;">
                        <div class="_2OT3f">
                            <div class="_3S9GR">
                                <span class="_2Gef4 _1k8eu _19Fp5 _3lvH3">Premium Fancy</span>
                            </div>
                            <div>
                                <span class="_19Fp5" style="font-size: smaller;">Min-100 &amp; Max-@ViewBag.max_limit_sess</span>
                            </div>
                        </div>
                        <div>
                            <div class="runners-list-header">
                                <h3 class="left-content">
                                    Market Name
                                </h3>
                                <h3 class="right-content">
                                    <span class="label" style="color:black;font-size:100%;width:63px;">NOT</span>
                                    <span class="label" style="color:black;font-size:100%;width:63px;">YES</span>
                                </h3>
                            </div>
                        </div>
                        <div id="session_rate_data_loaderP"></div>
                        <div id="session_rate_dataP"></div>
                    </div>
                </div>
                <div class="comp-market tabcontent" id="all_other_markets">
                    <div class="runners-list" style="min-height:25px;">
                        <div class="runners-list-header">
                            <h3 class="left-content">
                                <span class="label" style="color:black;font-size:100%;">Market Name </span>
                            </h3>
                            <h3 class="right-content">
                                <span class="label" style="color:black;font-size:100%;width:63px;">Back</span>
                                <span class="label" style="color:black;font-size:100%;width:63px;">Lay</span>
                            </h3>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<div style="clear: both;padding: 0px;overflow-x: hidden;overflow-y: scroll; height:calc(100% - 0px);" id="open_bet">
    <div id="matchedwrap1111" class="matched-wrap111" style="height: calc(100% - 301px);border: none;">
        <h3 style="padding-bottom: 6px;padding-left: 8px;padding-top: 6px; background: #212121;">
            <a class="" style="cursor:pointer; color:white;">Open Bets (Matched)</a>
        </h3>

        <style>
            #grvMatched {
                border: 0px solid #7FB3D5;
            }

                #grvMatched tr, th, td {
                    border: 0px solid #7FB3D5;
                }

            .slip-head {
                background-color: #CED5DA;
                padding: 0 10px;
            }

                .slip-head li {
                    padding: 5px 0;
                }
        </style>
        <div style="background-color: white;">
            <table class="table table-striped table-bordered dataTable no-margin" cellspacing="0" rules="all" border="1" id="grvMatched" style="width:100%;border-collapse:collapse;"></table>
        </div>

        <style>
            #prvMatched {
                border: 0px solid #7FB3D5;
            }

                #prvMatched tr, th, td {
                    border: 0px solid #7FB3D5;
                }
        </style>
        <div style="background-color: white;display:none;">
            <ul id="unMatchTicketHead" class="slip-head" style="">
                <li class="col-bet"><strong>Unmatched</strong></li>
            </ul>
            <table class="table table-striped dataTable no-margin" cellspacing="0" rules="all" border="1" id="prvMatched" style="width:100%;border-collapse:collapse; margin-bottom: 100px;"></table>
        </div>
    </div>
</div>
<input type="hidden" value="0" id="total_sess" />
<input type="hidden" value="0" id="total_sessP" />
<input type="hidden" value="" id="text_sessp" />
@*<audio controls="controls">
    <source  type="audio/mpeg" />
</audio>*@
<audio id="successlogd" src="~/Content/sound/success.mp3" autostart="false"></audio>
<audio id="errorloifhe" src="~/Content/sound/error.mp3" autostart="false"></audio>
@section Scripts{
    <script async>   
        var Time_Stamp = $("#Time_Stamp").val();
        var is_fancy = $("#is_fancy").val();
        var x_x_code = $("#x_code").val();
        var adihf = @Session["AdminID"];
        // Match Odds Data Start Here
        getMODataMob();
        var MoCheck = "no";
        function getMODataMob() {
            var id = $("#sessionBfID").val();
            var spi_id = $("#sessionBfSportID").val();
            var type = $("#sessionEVID").val();
            var gujh = '/exchange/GetJavanScriptString';
            if (spi_id == 66) {
                gujh = '/exchange/GetJavanScriptString66';
            }
            $.ajax({
                url: gujh,
                contentType: 'application/html ; charset:utf-8',
                type: 'GET',
                data: {data: id,type: type},
                dataType: 'html',
                success: function (result) {
                    var a2 = JSON.parse(result);
                    var runlength = a2.length;
                    var GetRLength = a2.length;
                    if (GetRLength > 0) {
                        for (i = 0; i < a2.length; i++) {
                            if (adihf == "14") {
                                $("#MinMacxS").text("Min - 1 & Max - 3000");
                                var totalMatched = a2[i].totalMatched;
                                $('#MAtchedVolume').html(totalMatched);
                                var GetBfIdBroke = a2[i].BetfairId;
                                GetBfIdBroke = (GetBfIdBroke.toString().split(".")[1]);
                                var suspen = "SUSPENDED";
                                if (a2[i].match_status == "CLOSED") {
                                    suspen = a2[i].status;
                                }
                                if ($("#mt_" + i).val() == i) {
                                    if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        $("#back_lay_suspend_" + i).css("display", "flex");
                                    }
                                    else {
                                        $("#back_lay_suspend_" + i).css("display", "none");
                                    }
                                    $("#backprice1_" + i).text(a2[i].back1);
                                    $("#backsize1_" + i).text(a2[i].back1size);
                                    $("#layprice1_" + i).text(a2[i].lay1);
                                    $("#laysize1_" + i).text(a2[i].lay1size);
                                }
                                else {
                                    var back_lay_suspend_color = "none";
                                    if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        back_lay_suspend_color = "flex";
                                    }
                                    var myvar = '<div class="comp-runner-container">' +
                                        '<input type="hidden" id="mt_' + i + '" value="' + i + '">' +
                                        '<input type="hidden" id="run_length_' + GetBfIdBroke + "_" + i + '" value="' + runlength + '">' +
                                        '<div class="runner-data-container">' +
                                        '   <div class="runner-info-container" style="margin-left: 10px;">' +
                                        '       <div class="ellipsis-text runner-name">' +
                                        '           <span id="runnername_' + GetBfIdBroke + "_" + i + '">' + a2[i].Runnername + '</span>' +
                                        '       </div>' +
                                        '   <div style="margin-top: 5px;">' +
                                        '       <span id="run_cal_bef_' + GetBfIdBroke + "_" + i + '">0.00</span>' +
                                        '       <span id="run_cal_aft_' + GetBfIdBroke + "_" + i + '"></span>' +
                                        '   </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="runner-bet-buttons-container">' +
                                        '<div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">' +
                                        '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" onclick="BetPlacePopupShow(\'back\',' + i + ',\'backprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'1\',\'' + GetBfIdBroke + '\')">' +
                                        '       <span class="price" id="backprice1_' + i + '">' + a2[i].back1 + '</span>' +
                                        '       <span class="size ellipsis-text" id="backsize1_' + i + '">' + a2[i].back1size + ' </span>' +
                                        '   </button>' +
                                        '</div>' +
                                        '<div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">' +
                                        '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlacePopupShow(\'lay\',' + i + ',\'layprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'2\',\'' + GetBfIdBroke + '\')">' +
                                        '       <span class="price" id="layprice1_' + i + '">' + a2[i].lay1 + '</span>' +
                                        '       <span class="size ellipsis-text" id="laysize1_' + i + '">' + a2[i].lay1size + '  </span>' +
                                        '   </button>' +
                                        '</div>' +
                                        '</div>' +
                                        '</div>' +
                                        '<div class="comp-runner-container" style="margin-top: -50px;display:' + back_lay_suspend_color + ';" id="back_lay_suspend_' + i + '">' +
                                        '  <div class="runner-data-container"></div>' +
                                        '  <div class="runner-bet-buttons-container box_suspend">' +
                                        '      <span>' + suspen + '</span>' +
                                        '  </div>' +
                                        '</div>' +
                                        '<div class="comp-inline-betting" id="men_ex_' + i + '" style="display:none;">' +
                                        '<div class="mod-inline-betting narrow">' +
                                        '   <div class="place-bet-panel back extra-small" id="BetPlacePopupColor_' + i + '">' +
                                        '       <span style="display:none;"></span><input type="hidden" value="">' +
                                        '       <div class="place-bet-container">' +
                                        '           <div class="bet-info">' +
                                        '               <div class="info">' +
                                        '                   <div class="bet-info-back" id="teamback_' + i + '">Back (Bet For):</div>' +
                                        '                   <div class="bet-info-lay">Lay (Bet Against):</div>' +
                                        '                   <div class="bet-info-description">' +
                                        '                       <span id="teamtitles_' + i + '">Liverpool</span>' +
                                        '                       <span>-</span>' +
                                        '                       <span>Match Odds</span>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '           </div>' +
                                        '           <div class="bet-actions-container nudges-visible">' +
                                        '               <div class="price-container">' +
                                        '                   <div class="input">' +
                                        '                       <button class="negative-nudge minus" id="minus1" onclick="OddsDown(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                        '                       </button>' +
                                        '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                        '                           <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Odds" id="odds_' + i + '">' +
                                        '                       </div>' +
                                        '                       <button class="positive-nudge add" id="add1" onclick="OddsUp(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                        '                       </button>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '               <div class="size-container">' +
                                        '                   <div class="input">' +
                                        '                       <button class="negative-nudge qtyminus" field="quantity" onclick="StakeDown(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                        '                       </button>' +
                                        '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                        '                           <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="txt1_' + i + '" oninput="manage1(' + i + ')">' +
                                        '                       </div>' +
                                        '                       <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUp(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                        '                       </button>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '               <button class="reset-bet visible-when-narrow" onclick="hideMoPopup(' + i + ',' + GetBfIdBroke + ',' + runlength + ')">Cancel</button>' +
                                        '               <button class="place-bet" type="submit" style="color:white;" disabled="disabled" id="place_bet_' + i + '" onclick="SubmitBetMV(\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',' + i + ')">' +
                                        '                   <span class="place-bet-title">Place bet</span> ' +
                                        '                   <span id="panle2_' + i + '" style="display: none; font-size: 11px; float: left; margin-left: 50px;">Profit $<span class="place-bet-profit" id="bet_profit1_' + i + '" style="float: right; font-size: 12px; margin-left: 5px;"></span>' +
                                        '                   </span>' +
                                        '               </button>' +
                                        '           </div>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                        '<div class="panel-row panel-keyboard">' +
                                        '   <div class="panel-row">' +
                                        '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(10,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">10</div>' +
                                        '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(50,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">50</div>' +
                                        '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(100,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">100</div>' +
                                        '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardMo(200,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">200</div>' +
                                        '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(500,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">500</div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="panel-row panel-keyboard">' +
                                        '   <div class="panel-left">' +
                                        '       <div class="panel-row">' +
                                        '           <div class="button-container numeric-input-1" onclick="placekeyboardMo(1,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">1</div>' +
                                        '           <div class="button-container numeric-input-2" onclick="placekeyboardMo(2,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2</div>' +
                                        '           <div class="button-container numeric-input-3" onclick="placekeyboardMo(3,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">3</div>' +
                                        '           <div class="button-container numeric-input-4" onclick="placekeyboardMo(4,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">4</div>' +
                                        '           <div class="button-container numeric-input-5" onclick="placekeyboardMo(5,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5</div>' +
                                        '           <div class="button-container numeric-input-6" onclick="placekeyboardMo(6,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">6</div>' +
                                        '       </div>' +
                                        '       <div class="panel-row bottom-row">' +
                                        '           <div class="button-container numeric-input-7" onclick="placekeyboardMo(7,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">7</div>' +
                                        '           <div class="button-container numeric-input-8" onclick="placekeyboardMo(8,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">8</div>' +
                                        '           <div class="button-container numeric-input-9" onclick="placekeyboardMo(9,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">9</div>' +
                                        '           <div class="button-container numeric-input-0" onclick="placekeyboardMo(0,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">0</div>' +
                                        '           <div class="button-container numeric-input-00" onclick="placekeyboardMo(\'00\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">00</div>' +
                                        '           <div class="button-container numeric-input-." onclick="placekeyboardMo(\'.\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">.</div>' +
                                        '           ' +
                                        '       </div>' +
                                        '   </div>' +
                                        '   <div class="panel-right">' +
                                        '       <div class="panel-row">' +
                                        '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardMo(\'X\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '               <span class="icon-clear"></span>' +
                                        '           </div>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '</div>' +
                                        '</div>' +
                                        '<div id="place_bet_loader_' + i + GetBfIdBroke + '" style="display:none;">' +
                                        '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>' +
                                        '<div style="margin-top: -240px;height: 240px;">' +
                                        '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">' +
                                        '</div>' +
                                        '</div>';
                                    $('#match_odds_data_loader').css("display", "none");
                                    $('#match_odds_data').append(myvar);
                                    if (i == GetRLength - 1) {
                                        var monthname = $("#TeamARunnerName").text();
                                        var monthnamke = $("#TeamBRunnerName").text();
                                        if (GetRLength == 3) {
                                            $("#runnername_" + GetBfIdBroke + "_2").text("The Draw");
                                        }
                                        $("#runnername_" + GetBfIdBroke + "_0").text(monthname);
                                        $("#runnername_" + GetBfIdBroke + "_1").text(monthnamke);
                                        GetWmeForD(a2[i].BetfairId);
                                    }
                                }
                            }
                            else {
                                $("#MinMacxS").text("Min - 100 & Max - 500000");
                                var totalMatched = a2[i].totalMatched;
                                $('#MAtchedVolume').html(totalMatched);
                                var GetBfIdBroke = a2[i].BetfairId;
                                GetBfIdBroke = (GetBfIdBroke.toString().split(".")[1]);
                                var suspen = "SUSPENDED";
                                if (a2[i].match_status == "CLOSED") {
                                    suspen = a2[i].status;
                                }
                                if ($("#mt_" + i).val() == i) {
                                    if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        $("#back_lay_suspend_" + i).css("display", "flex");
                                    }
                                    else {
                                        $("#back_lay_suspend_" + i).css("display", "none");
                                    }
                                    $("#backprice1_" + i).text(a2[i].back1);
                                    $("#backsize1_" + i).text(a2[i].back1size);
                                    $("#layprice1_" + i).text(a2[i].lay1);
                                    $("#laysize1_" + i).text(a2[i].lay1size);
                                }
                                else {
                                    var back_lay_suspend_color = "none";
                                    if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        back_lay_suspend_color = "flex";
                                    }
                                    var myvar = '<div class="comp-runner-container">' +
                                        '<input type="hidden" id="mt_' + i + '" value="' + i + '">' +
                                        '<input type="hidden" id="run_length_' + GetBfIdBroke + "_" + i + '" value="' + runlength + '">' +
                                        '<div class="runner-data-container">' +
                                        '   <div class="runner-info-container" style="margin-left: 10px;">' +
                                        '       <div class="ellipsis-text runner-name">' +
                                        '           <span id="runnername_' + GetBfIdBroke + "_" + i + '"></span>' +
                                        '       </div>' +
                                        '   <div style="margin-top: 5px;">' +
                                        '       <span id="run_cal_bef_' + GetBfIdBroke + "_" + i + '">0.00</span>' +
                                        '       <span id="run_cal_aft_' + GetBfIdBroke + "_" + i + '"></span>' +
                                        '   </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="runner-bet-buttons-container">' +
                                        '<div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">' +
                                        '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" onclick="BetPlacePopupShow(\'back\',' + i + ',\'backprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'1\',\'' + GetBfIdBroke + '\')">' +
                                        '       <span class="price" id="backprice1_' + i + '">' + a2[i].back1 + '</span>' +
                                        '       <span class="size ellipsis-text" id="backsize1_' + i + '">' + a2[i].back1size + ' </span>' +
                                        '   </button>' +
                                        '</div>' +
                                        '<div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">' +
                                        '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlacePopupShow(\'lay\',' + i + ',\'layprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'2\',\'' + GetBfIdBroke + '\')">' +
                                        '       <span class="price" id="layprice1_' + i + '">' + a2[i].lay1 + '</span>' +
                                        '       <span class="size ellipsis-text" id="laysize1_' + i + '">' + a2[i].lay1size + '  </span>' +
                                        '   </button>' +
                                        '</div>' +
                                        '</div>' +
                                        '</div>' +
                                        '<div class="comp-runner-container" style="margin-top: -50px;display:' + back_lay_suspend_color + ';" id="back_lay_suspend_' + i + '">' +
                                        '  <div class="runner-data-container"></div>' +
                                        '  <div class="runner-bet-buttons-container box_suspend">' +
                                        '      <span>' + suspen + '</span>' +
                                        '  </div>' +
                                        '</div>' +
                                        '<div class="comp-inline-betting" id="men_ex_' + i + '" style="display:none;">' +
                                        '<div class="mod-inline-betting narrow">' +
                                        '   <div class="place-bet-panel back extra-small" id="BetPlacePopupColor_' + i + '">' +
                                        '       <span style="display:none;"></span><input type="hidden" value="">' +
                                        '       <div class="place-bet-container">' +
                                        '           <div class="bet-info">' +
                                        '               <div class="info">' +
                                        '                   <div class="bet-info-back" id="teamback_' + i + '">Back (Bet For):</div>' +
                                        '                   <div class="bet-info-lay">Lay (Bet Against):</div>' +
                                        '                   <div class="bet-info-description">' +
                                        '                       <span id="teamtitles_' + i + '">Liverpool</span>' +
                                        '                       <span>-</span>' +
                                        '                       <span>Match Odds</span>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '           </div>' +
                                        '           <div class="bet-actions-container nudges-visible">' +
                                        '               <div class="price-container">' +
                                        '                   <div class="input">' +
                                        '                       <button class="negative-nudge minus" id="minus1" onclick="OddsDown(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                        '                       </button>' +
                                        '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                        '                           <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Odds" id="odds_' + i + '">' +
                                        '                       </div>' +
                                        '                       <button class="positive-nudge add" id="add1" onclick="OddsUp(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                        '                       </button>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '               <div class="size-container">' +
                                        '                   <div class="input">' +
                                        '                       <button class="negative-nudge qtyminus" field="quantity" onclick="StakeDown(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                        '                       </button>' +
                                        '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                        '                           <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="txt1_' + i + '" oninput="manage1(' + i + ')">' +
                                        '                       </div>' +
                                        '                       <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUp(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                        '                       </button>' +
                                        '                   </div>' +
                                        '               </div>' +
                                        '               <button class="reset-bet visible-when-narrow" onclick="hideMoPopup(' + i + ',' + GetBfIdBroke + ',' + runlength + ')">Cancel</button>' +
                                        '               <button class="place-bet" type="submit" style="color:white;" disabled="disabled" id="place_bet_' + i + '" onclick="SubmitBetMV(\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',' + i + ')">' +
                                        '                   <span class="place-bet-title">Place bet</span> ' +
                                        '                   <span id="panle2_' + i + '" style="display: none; font-size: 11px; float: left; margin-left: 50px;">Profit $<span class="place-bet-profit" id="bet_profit1_' + i + '" style="float: right; font-size: 12px; margin-left: 5px;"></span>' +
                                        '                   </span>' +
                                        '               </button>' +
                                        '           </div>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                        '<div class="panel-row panel-keyboard">' +
                                        '   <div class="panel-row">' +
                                        '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(100,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">100</div>' +
                                        '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(500,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">500</div>' +
                                        '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(2000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2000</div>' +
                                        '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardMo(5000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5000</div>' +
                                        '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo(25000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">25000</div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '<div class="panel-row panel-keyboard">' +
                                        '   <div class="panel-left">' +
                                        '       <div class="panel-row">' +
                                        '           <div class="button-container numeric-input-1" onclick="placekeyboardMo(1,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">1</div>' +
                                        '           <div class="button-container numeric-input-2" onclick="placekeyboardMo(2,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2</div>' +
                                        '           <div class="button-container numeric-input-3" onclick="placekeyboardMo(3,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">3</div>' +
                                        '           <div class="button-container numeric-input-4" onclick="placekeyboardMo(4,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">4</div>' +
                                        '           <div class="button-container numeric-input-5" onclick="placekeyboardMo(5,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5</div>' +
                                        '           <div class="button-container numeric-input-6" onclick="placekeyboardMo(6,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">6</div>' +
                                        '       </div>' +
                                        '       <div class="panel-row bottom-row">' +
                                        '           <div class="button-container numeric-input-7" onclick="placekeyboardMo(7,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">7</div>' +
                                        '           <div class="button-container numeric-input-8" onclick="placekeyboardMo(8,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">8</div>' +
                                        '           <div class="button-container numeric-input-9" onclick="placekeyboardMo(9,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">9</div>' +
                                        '           <div class="button-container numeric-input-0" onclick="placekeyboardMo(0,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">0</div>' +
                                        '           <div class="button-container numeric-input-00" onclick="placekeyboardMo(\'00\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">00</div>' +
                                        '           <div class="button-container numeric-input-." onclick="placekeyboardMo(\'.\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">.</div>' +
                                        '           ' +
                                        '       </div>' +
                                        '   </div>' +
                                        '   <div class="panel-right">' +
                                        '       <div class="panel-row">' +
                                        '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardMo(\'X\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                        '               <span class="icon-clear"></span>' +
                                        '           </div>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '</div>' +
                                        '</div>' +
                                        '</div>' +
                                        '<div id="place_bet_loader_' + i + GetBfIdBroke + '" style="display:none;">' +
                                        '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>' +
                                        '<div style="margin-top: -240px;height: 240px;">' +
                                        '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">' +
                                        '</div>' +
                                        '</div>';
                                    $('#match_odds_data_loader').css("display", "none");
                                    $('#match_odds_data').append(myvar);
                                    if (i == GetRLength - 1) {                                       
                                        var monthname = $("#TeamARunnerName").text();
                                        var monthnamke = $("#TeamBRunnerName").text();
                                        if (GetRLength == 3) {                                            
                                            $("#runnername_" + GetBfIdBroke + "_2").text("The Draw");
                                        }
                                        $("#runnername_" + GetBfIdBroke + "_0").text(monthname);
                                        $("#runnername_" + GetBfIdBroke + "_1").text(monthnamke);
                                        GetWmeForD(a2[i].BetfairId);
                                    }
                                }
                            }

                        }
                    }
                    else {
                        $('#match_odds_data_loader').css("display", "none");
                    }
                }
            })
        }
        if (MoCheck == "no" && Time_Stamp < 1800) {
            MoCheck = "yes";
            setInterval(function () { getMODataMob(); }, 1000);
        }
        // Match Odds Data End Here

        var jkdfhjk = "jkl";
        function BetPlacePopupShow(box, index, OddsValue, BetfairId, EventCode, box_run, runnernameg) {
            document.getElementById("txt1_" + index).value = "";
            document.getElementById("panle2_" + index).style.display = "none";
            document.getElementById('place_bet_' + index).disabled = true;
            var oddsvalueget = $('#' + OddsValue + index).text();
            $("#odds_" + index).val(oddsvalueget);
            var RName = $("#runnername_" + runnernameg + "_" + index).text();
            $("#teamtitles_" + index).text(RName);
            if (box == "back") {
                $("#BetPlacePopupColor_" + index).css("background-color", "#d2ebff");
                $("#teamback_" + index).text("Back (Bet For):");
            } else if (box == "lay") {
                $("#BetPlacePopupColor_" + index).css("background-color", "#f3dce2");
                $("#teamback_" + index).text("Lay (Bet Against):");
            }
            if ($("#men_ex_" + index).css('display') == 'none') {
                if (jkdfhjk != "jkl") {
                    $("#men_ex_" + jkdfhjk).css("display", "none");
                }
                $("#men_ex_" + index).toggle({
                    duration: 600,
                });
                $("#men_ex_" + index).css("display", "contents");
                jkdfhjk = index;

            } else {
                if ($("#BetPlacePopupColor_" + index).children("span").text() + $("#BetPlacePopupColor_" + index).children("input").val() == box + box_run) {
                    $("#men_ex_" + index).css("display", "none");
                }
            }

            $("#BetPlacePopupColor_" + index).children("span").text(box);
            $("#BetPlacePopupColor_" + index).children("input").val(box_run);


        }

        var HideOPo = "jkl";
        function BetPlacePopupShow1(box, index, OddsValue, BetfairId, EventCode, box_run, runnername, GetBfIdBroke) {

            //  alert(box + "--" + index + "--" + OddsValue + "--" + BetfairId + "--" + EventCode + "--" + box_run+"-"+runnername+"_"+GetBfIdBroke)
            document.getElementById("txt1_o_" + index + GetBfIdBroke).value = "";
            document.getElementById("panel_o_" + index + GetBfIdBroke).style.display = "none";
            document.getElementById('place_bet_o_' + index + GetBfIdBroke).disabled = true;
            var oddsvalueget = $('#' + OddsValue + index).text();
            $("#oddsO_" + index + GetBfIdBroke).val(oddsvalueget);
            $("#teamtitlepo_" + index + GetBfIdBroke).text(runnername);

            if (box == "back") {
                $("#betplacepcolor_" + index + GetBfIdBroke).css("background-color", "#d2ebff");
                $("#teamtitlepo_bac_" + index + GetBfIdBroke).text("Back (Bet For):");
            } else if (box == "lay") {
                $("#betplacepcolor_" + index + GetBfIdBroke).css("background-color", "#f3dce2");
                $("#teamtitlepo_bac_" + index).text("Lay (Bet Against):");
            }

            if ($("#men_ex_1_" + index + "_" + GetBfIdBroke).css('display') == 'none') {

                if (HideOPo != "jkl") {
                    $("#men_ex_1_" + HideOPo + "_" + GetBfIdBroke).css("display", "none");
                }
                $("#men_ex_1_" + index + "_" + GetBfIdBroke).toggle({
                    duration: 600,
                });


                $("#men_ex_1_" + index + "_" + GetBfIdBroke).css("display", "contents");
                HideOPo = index;

            } else {
                if ($("#betplacepcolor_" + index + GetBfIdBroke).children("span").text() + $("#betplacepcolor_" + index + GetBfIdBroke).children("input").val() == box + box_run) {
                    $("#men_ex_1_" + index + "_" + GetBfIdBroke).css("display", "none");
                }
            }

            $("#betplacepcolor_" + index + GetBfIdBroke).children("span").text(box);
            $("#betplacepcolor_" + index + GetBfIdBroke).children("input").val(box_run);


        }

        function manage2(index) {

            var tt = $('#txt1_o_' + index).val();
            var bp = document.getElementById("panel_o_" + index);
            var bt = document.getElementById('place_bet_o_' + index);
            if (tt >= 1) {
                bt.disabled = false;
                $("#panel_o_p_" + index).html(tt);
                bp.style.display = "block";

            } else {
                bt.disabled = true;
                bp.style.display = "none";
            }


        }

        function placekeyboard1(bt_val, index) {
            var tt = $('#txt1_o_' + index).val();

            if (bt_val == "X") {
                var new_stake = tt.slice(0, -1);
            } else {
                var new_stake = tt + bt_val;
            }
            $('#txt1_o_' + index).val(new_stake);
            manage2(index);
            //alert(new_stake);
        }
        function SubmitBetOtherM(betfairid, eventcode, index) {
            var GetLog = '@Session["UserName"]';
            if (GetLog != "" && GetLog != null) {
                var betfair_id_break = (betfairid.toString().split(".")[1]);
                document.getElementById("place_bet_o_" + index + betfair_id_break).disabled = true;
                var run_length = $("#run_length_o_" + betfair_id_break + "_" + index).val();
                var stackValue = $("#txt1_o_" + index + betfair_id_break).val();
                var runner_name = $("#runnername_o_" + betfair_id_break + "_" + index).text();
                var field_box = $("#betplacepcolor_" + index + betfair_id_break).children("span").text();
                var OddsValue = $("#oddsO_" + index + betfair_id_break).val();
                var run_pos = parseInt(index) + 1;
                var market_name = $("#market_name_o_" + betfair_id_break).text();
                $.ajax({
                    type: "POST",
                    url: "/Check/BetPlaceM",
                    data: {
                        BetfairId: betfairid,
                        EventCode: eventcode,
                        stackValue: stackValue,
                        OddsValue: OddsValue,
                        RunnerIndex: run_pos,
                        BoxType: field_box,
                        RunnerNameget: runner_name,
                        MarketName: market_name,
                    },
                    beforeSend: function(){
                        $("#place_bet_loader_o_" +index+ betfair_id_break).css("display", "");
                    },
                    success: function (result) {
                        GetWmeForD(betfairid);
                        $("#place_bet_loader_o_" +index+ betfair_id_break).css("display", "none");
                        hideOtherPopup(index, betfair_id_break, run_length);
                        UserBalance();
                        GetPlaceBet();
                        if (result.responseText == "Bet Submitted Successfully") {
                            showProgressBarMessageSuccess(result.responseText);
                        }
                        else {
                            showProgressBarMessageError(result.responseText);
                        }
                    }
                });
            }
            else {
                window.location.href = "/exchange/Login";
            }
        }

         function SuccessPlaySound() {
            var sound = document.getElementById("successlogd");
            sound.play()
        }
        function ErrorPlaySound() {
            var sound = document.getElementById("errorloifhe");
            sound.play()
        }
        function WarnningPlaySound() {
            var sound = document.getElementById("warnning");
            sound.play()
        }

        function hideMoPopup(target, bfid, runlength) {
            for (var il = 0; il < runlength; il++) {
                $('#run_cal_aft_' + bfid + '_' + il).text("");
            }
            $("#men_ex_" + target).css("display", "none");
        }

        function hideOtherPopup(target, bfid, runlength) {
            for (var il = 0; il < runlength; il++) {
                $('#run_cal_aft_' + bfid + '_' + il).text("");
            }
            $("#men_ex_1_" + target + "_" + bfid).css("display", "none");
        }

        function manageModsd(index, runlength, bfidrep) {

            var tt = $('#txt1_' + index).val();
            var todds = $('#odds_' + index).val();
            var bp = document.getElementById("panle2_" + index);
            var bt = document.getElementById('place_bet_' + index);
            var FieldBox = $("#BetPlacePopupColor_" + index).children("span").text();

            var PL = todds * tt;
            PL = parseFloat(PL).toFixed(2);
            var ProfitlossVal = PL - tt;
            var i2 = 0.00;
            i2 = parseFloat(ProfitlossVal).toFixed(2);

            if (tt >= 1) {
                for (var il = 0; il < runlength; il++) {
                    var wmeo = 0.00;
                    wmeo = $('#run_cal_bef_' + bfidrep + '_' + il).text();
                    if (il == index && FieldBox == "back") {
                        var sameback = parseFloat(parseFloat(wmeo) + parseFloat(i2)).toFixed(2);
                        if (sameback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (sameback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + sameback);
                    } else if (il == index && FieldBox == "lay") {
                        var samelay = parseFloat(parseFloat(wmeo) - parseFloat(i2)).toFixed(2);
                        if (samelay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (samelay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + samelay);
                    } else if (il != index && FieldBox == "back") {
                        var revback = parseFloat(parseFloat(wmeo) - parseFloat(tt)).toFixed(2);
                        if (revback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revback);
                    } else if (il != index && FieldBox == "lay") {
                        var revlay = parseFloat(parseFloat(wmeo) + parseFloat(tt)).toFixed(2);
                        if (revlay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revlay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revlay);
                    }
                }
                bt.disabled = false;
                $("#bet_profit1_" + index).html(tt);
                bp.style.display = "block";

            } else {
                for (var il = 0; il < runlength; il++) {
                    $('#run_cal_aft_' + bfidrep + '_' + il).text("");
                }
                $("#bet_profit1_" + index).html("");
                bt.disabled = true;
                bp.style.display = "none";
            }


        }

        function placekeyboardMo(bt_val, index, runlength, bfidrep) {
            var tt = $('#txt1_' + index).val();
            if (bt_val > 10) {
                if (tt == "") {
                    tt = 0;
                }
                var new_stake = parseInt(bt_val) + parseInt(tt);
            }
            else {
                if (bt_val == "X") {
                    var new_stake = tt.slice(0, -1);
                }
                else if (bt_val == "stkpm") {
                    var new_stake = tt;
                }
                else if (bt_val == "oddspm") {
                    var new_stake = tt;
                }
                else {
                    var new_stake = tt + bt_val;
                }
            }
            $('#txt1_' + index).val(new_stake);
            var tt = new_stake;
            var todds = $('#odds_' + index).val();
            var bp = document.getElementById("panle2_" + index);
            var bt = document.getElementById('place_bet_' + index);
            var FieldBox = $("#BetPlacePopupColor_" + index).children("span").text();

            var PL = todds * new_stake;
            PL = parseFloat(PL).toFixed(2);
            var ProfitlossVal = PL - new_stake;
            var i2 = 0.00;
            i2 = parseFloat(ProfitlossVal).toFixed(2);

            var new_stake15 = new_stake;
            if (FieldBox == "back") {
                new_stake15 = i2;
            }
            if (new_stake > 1) {
                for (var il = 0; il < runlength; il++) {
                    var wmeo = 0.00;
                    wmeo = $('#run_cal_bef_' + bfidrep + '_' + il).text();
                    if (il == index && FieldBox == "back") {
                        var sameback = parseFloat(parseFloat(wmeo) + parseFloat(i2)).toFixed(2);
                        if (sameback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (sameback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + sameback);
                    } else if (il == index && FieldBox == "lay") {
                        var samelay = parseFloat(parseFloat(wmeo) - parseFloat(i2)).toFixed(2);
                        if (samelay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (samelay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + samelay);
                    } else if (il != index && FieldBox == "back") {
                        var revback = parseFloat(parseFloat(wmeo) - parseFloat(new_stake)).toFixed(2);
                        if (revback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revback);
                    } else if (il != index && FieldBox == "lay") {
                        var revlay = parseFloat(parseFloat(wmeo) + parseFloat(new_stake)).toFixed(2);
                        if (revlay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revlay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revlay);
                    }
                }
                bt.disabled = false;
                $("#bet_profit1_" + index).html(new_stake15);
                bp.style.display = "block";

            } else {
                for (var il = 0; il < runlength; il++) {
                    $('#run_cal_aft_' + bfidrep + '_' + il).text("");
                }
                $("#bet_profit1_" + index).html("");
                bt.disabled = true;
                bp.style.display = "none";
            }
        }

        function manage1(index) {

            var tt = $('#txt1_' + index).val();
            var bp = document.getElementById("panle2_" + index);
            var bt = document.getElementById('place_bet_' + index);
            if (tt >= 1) {
                bt.disabled = false;
                $("#bet_profit1_" + index).html(tt);
                bp.style.display = "block";

            } else {
                bt.disabled = true;
                bp.style.display = "none";
            }


        }

        function placekeyboardMo1(bt_val, index, runlength, bfidrep) {
            var tt = $('#txt1_o_' + index + bfidrep).val();

            if (bt_val > 10) {
                if (tt == "") {
                    tt = 0;
                }
                var new_stake = parseInt(bt_val) + parseInt(tt);
            }
            else {
                if (bt_val == "X") {
                    var new_stake = tt.slice(0, -1);
                }
                else if (bt_val == "stkpm") {
                    var new_stake = tt;
                }
                else if (bt_val == "oddspm") {
                    var new_stake = tt;
                }
                else {
                    var new_stake = tt + bt_val;
                }
            }
            $('#txt1_o_' + index + bfidrep).val(new_stake);
            var tt = new_stake;
            var todds = $('#oddsO_' + index + bfidrep).val();
            //var bp = document.getElementById("panle2_o-" + index + bfidrep);
            var bt = document.getElementById('place_bet_o_' + index + bfidrep);
            var FieldBox = $("#betplacepcolor_" + index + bfidrep).children("span").text();

            var PL = todds * new_stake;
            PL = parseFloat(PL).toFixed(2);
            var ProfitlossVal = PL - new_stake;
            var i2 = 0.00;
            i2 = parseFloat(ProfitlossVal).toFixed(2);

            if (new_stake > 1) {
                for (var il = 0; il < runlength; il++) {
                    var wmeo = 0.00;
                    wmeo = $('#run_cal_bef_' + bfidrep + '_' + il).text();
                    if (il == index && FieldBox == "back") {
                        var sameback = parseFloat(parseFloat(wmeo) + parseFloat(i2)).toFixed(2);
                        if (sameback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (sameback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + sameback);
                    } else if (il == index && FieldBox == "lay") {
                        var samelay = parseFloat(parseFloat(wmeo) - parseFloat(i2)).toFixed(2);
                        if (samelay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (samelay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + samelay);
                    } else if (il != index && FieldBox == "back") {
                        var revback = parseFloat(parseFloat(wmeo) - parseFloat(new_stake)).toFixed(2);
                        if (revback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revback);
                    } else if (il != index && FieldBox == "lay") {
                        var revlay = parseFloat(parseFloat(wmeo) + parseFloat(new_stake)).toFixed(2);
                        if (revlay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revlay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revlay);
                    }
                }
                bt.disabled = false;
                $("#bet_profit1_" + index).html(new_stake);
                //bp.style.display = "block";

            } else {
                for (var il = 0; il < runlength; il++) {
                    $('#run_cal_aft_' + bfidrep + '_' + il).text("");
                }
                $("#bet_profit1_" + index).html("");
                bt.disabled = true;
                //bp.style.display = "none";
            }
        }

        function placekeyboard(bt_val, index) {
            var tt = $('#txt1_' + index).val();

            if (bt_val == "X") {
                var new_stake = tt.slice(0, -1);
            } else {
                var new_stake = tt + bt_val;
            }
            $('#txt1_' + index).val(new_stake);
            manage1(index);
            //alert(new_stake);
        }

        function match_filter(evnt, match) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" selected", "");
            }
            document.getElementById(match).style.display = "block";
            evnt.currentTarget.className += " selected";
        }
        document.getElementById("defaulttab").click();

        $('.modal-toggle').on('click', function (e) {
            e.preventDefault();
            $('.modal1').toggleClass('is-visible');
        });

        jQuery(document).ready(function () {
            // This button will increment the value
            $('.qtyplus').click(function (e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('field');
                // Get its current value
                var currentVal = parseInt($('input[name=' + fieldName + ']').val());
                // If is not undefined
                if (!isNaN(currentVal)) {
                    // Increment
                    $('input[name=' + fieldName + ']').val(currentVal + 1);
                } else {
                    // Otherwise put a 0 there
                    $('input[name=' + fieldName + ']').val(2);
                }
            });
            // This button will decrement the value till 0
            $(".qtyminus").click(function (e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('field');
                // Get its current value
                var currentVal = parseInt($('input[name=' + fieldName + ']').val());
                // If it isn't undefined or its greater than 0
                if (!isNaN(currentVal) && currentVal > 2) {
                    // Decrement one
                    $('input[name=' + fieldName + ']').val(currentVal - 1);
                } else {
                    // Otherwise put a 0 there
                    $('input[name=' + fieldName + ']').val(2);
                }
            });
        });

        $(function () {
            $('.add').on('click', function () {
                var qty = $(this).closest('div').find('.qty');
                var currentVal = parseFloat($(qty).val());
                if (!isNaN(currentVal)) {
                    $(qty).val((currentVal + 0.5).toFixed(1));
                }
            });
            $('.minus').on('click', function () {
                var qty = $(this).closest('div').find('.qty');
                var currentVal = parseFloat($(qty).val());
                if (!isNaN(currentVal) && currentVal > 1) {
                    $(qty).val((currentVal - 0.5).toFixed(1));
                }
            });
        });

        OtherMarketsaNamedata();
        function OtherMarketsaNamedata() {
            var id = $("#sessionEVID").val();
            var sid = $("#sessionBfSportID").val();
            $.ajax({
                url: '/exchange/OtherMarketData',
                contentType: 'application/html ; charset:utf-8',
                type: 'GET',
                data: {
                    Event_Code_other: id,
                    Event_Type_other: sid
                },
                dataType: 'html',
                success: function (result) {
                    var a2 = JSON.parse(result);
                    for (i = 0; i < a2.length; i++) {
                        var GetBfIdBroke = a2[i].OtherBf_id;
                        GetBfIdBroke = (GetBfIdBroke.toString().split(".")[1]);
                        var myvar = '<div class="_2OT3f" style="border-top: 1px solid #eee;" onclick="GetAllOMarkets(\'' + a2[i].OtherBf_id + '\',' + i + ')">' +
                            '                        <div class="_3S9GR">' +
                            '                            <span class="_2Gef4 _1k8eu _19Fp5 _3lvH3" id="market_name_o_' + GetBfIdBroke + '">' + a2[i].OtherName + '</span>' +
                            '                        </div>' +
                            '                        <div class="Lka9T" size="small">' +
                            '                            <svg width="100%" height="100%" class="_8g2oO _19r5o _2-40q" viewBox="0 0 20 20">' +
                            '                                <path d="M10 15a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM0 20h20V0H0v20z"></path>' +
                            '                            </svg>' +
                            '                        </div>' +
                            '                        <div class="Lka9T" size="small">' +
                            '                            <svg width="100%" height="100%" class="_8g2oO _19r5o ivBwm" viewBox="0 0 12 12">' +
                            '                                <path fill-rule="evenodd" d="M5.5 10.85c-2.416 0-4.375-2-4.375-4.468 0-2.467 1.959-4.467 4.375-4.467s4.375 2 4.375 4.467c0 2.468-1.959 4.468-4.375 4.468M6.344.832C8.98 1.246 11 3.574 11 6.382 11 9.485 8.538 12 5.5 12S0 9.485 0 6.382C0 3.574 2.02 1.246 4.656.832V0h1.688v.832zm1.96 8.254c.578-.686.936-1.64.936-2.697 0-2.09-1.403-3.784-3.135-3.784H6.08l.026 3.77 2.2 2.711z"></path>' +
                            '                            </svg>' +
                            '                        </div>' +
                            '                    </div>' +
                            '                   <div id="all_other_markets_loader_' + i + '" style="display: none;"> ' +
                            '                       <img src="/Content/images/prospin.gif" style="display: block; margin:auto;margin-top:15px;margin-bottom:15px;">' +
                            '                       </div>' +
                            '                   <div id = "OtherAmrketAllViewD_' + i + '" style = "display:none;" ></div > ';
                        $('#all_other_markets').append(myvar);
                    }
                }
            })
        }

        function GetAllOMarkets(Bid, index) {
            var Hideinput = $("#hideinnput").val();
            GetAllOMarkets2(Bid, index);
            $('#OtherAmrketAllViewD_' + Hideinput).text("");
            if (index == Hideinput) {

            } else {
                $("#all_other_markets_loader_" + index).css("display", "");
                GetAllOMarkets1(Bid, index);
            }
        }

        function GetAllOMarkets2(Bid, index) {
            var Hideinput = $("#hideinnput").val();
            if ($('#OtherAmrketAllViewD_' + Hideinput).css('display') == 'contents') {
                $('#OtherAmrketAllViewD_' + Hideinput).css("display", "none");
            }

        }
        var OtherCheck = "";
        function GetAllOMarkets1(Bids, index) {
            var Hideinput = $("#hideinnput").val();
            var Bids = Bids;
            var index = index;
            var gyg = $("#sessionBFOTHID").val();
            if (gyg != Bids && index != undefined && Bids != undefined) {
                $("#sessionBFOTHID").val(Bids);
                $("#hideinnput").val(index);
                $('#OtherAmrketAllViewD_' + index).empty();
                $('#OtherAmrketAllViewD_' + index).css("display", "contents");
            }
            var Bid = $("#sessionBFOTHID").val();
            OtherCheck = $("#sessionBFOTHID").val();
            if (OtherCheck != "") {
                $.ajax({
                    type: "POST",
                    url: "/exchange/GetJavanScriptString",
                    dataType: "html",
                    data: {
                        data: Bid
                    }, // change this
                    success: function (data) {
                        //alert(data)
                        var a2 = JSON.parse(data);
                        var runlength = a2.length;
                        if (runlength > 0) {
                            for (i = 0; i < a2.length; i++) {
                                var GetBfIdBroke = a2[i].BetfairId;
                                GetBfIdBroke = (GetBfIdBroke.toString().split(".")[1]);
                                if ($("#mtO_" + i).val() == i) {
                                    if ((a2[i].back1 == ""  && a2[i].lay1 == "") || (a2[i].back1 == "0"  && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        $("#oback_lay_suspend_" + i).css("display", "flex");
                                    }
                                    else {
                                        $("#oback_lay_suspend_" + i).css("display", "none");
                                    }
                                    $("#backpriceO_" + i).text(a2[i].back1);
                                    $("#backsizeO_" + i).text(a2[i].back1size);
                                    $("#laypriceO_" + i).text(a2[i].lay1);
                                    $("#laysizeO_" + i).text(a2[i].lay1size);
                                }
                                else {
                                    var oback_lay_suspend_color = "none";
                                    if ((a2[i].back1 == ""  && a2[i].lay1 == "") || (a2[i].back1 == "0"  && a2[i].lay1 == "0") || a2[i].status != "ACTIVE" || a2[i].match_status != "OPEN") {
                                        oback_lay_suspend_color = "flex";
                                    }
                                    var myvar8 = '<div class="comp-runner-container">' +
                                    '                   <input type="hidden" id="mtO_' + i + '" value="' + i + '">' +
                                    '                            <div class="runner-data-container">' +
                                    '                                <div class="runner-info-container" style="margin-left: 10px;">' +
                                    '                                    <div class="ellipsis-text runner-name">' +
                                    '                                        <span id="runnername_o_' + GetBfIdBroke + "_" + i + '">' + a2[i].Runnername + '</span>' +
                                    '                                        <input type="hidden" id="run_length_o_' + GetBfIdBroke + "_" + i + '" value="' + runlength + '">' +
                                    '                                    </div>' +
                                    '                                   <div style="margin-top: 5px;">' +
                                    '                                       <span id="run_cal_bef_' + GetBfIdBroke + "_" + i + '">0.00</span>' +
                                    '                                       <span id="run_cal_aft_' + GetBfIdBroke + "_" + i + '"></span>' +
                                    '                                   </div>' +
                                    '                                </div>' +
                                    '                            </div>' +
                                    '                            <div class="runner-bet-buttons-container">' +
                                    '                               <div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">'+
                                    '                                <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" id="show_hide" onclick="BetPlacePopupShow1(\'back\',' + i + ',\'backpriceO_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ', 1,\'' + a2[i].Runnername + '\',' + GetBfIdBroke + ')">' +
                                    '                                   <span class="price" id="backpriceO_' + i + '">' + a2[i].back1 + '</span>' +
                                    '                                   <span class="size ellipsis-text" id="backsizeO_' + i + '">' + a2[i].back1size + ' </span>' +
                                    '                                </button>' +
                                    '                               </div>'+
                                    '                               <div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">'+
                                    '                                <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlacePopupShow1(\'lay\',' + i + ',\'laypriceO_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ' , 1,\'' + a2[i].Runnername + '\',' + GetBfIdBroke + ')">' +
                                    '                                    <span class="price" id="laypriceO_' + i + '">' + a2[i].lay1 + '</span>' +
                                    '                                    <span class="size ellipsis-text" id="laysizeO_' + i + '">' + a2[i].lay1size + ' </span>' +
                                    '                                </button>' +
                                    '                               </div>'+
                                    '                            </div>' +
                                    '                        </div>' +
                                    '                       <div class="comp-runner-container" style="margin-top: -50px;display:' + oback_lay_suspend_color + ';" id="oback_lay_suspend_' + i + '">'+
                                    '                           <div class="runner-data-container"></div>'+
                                    '                           <div class="runner-bet-buttons-container box_suspend">'+
                                    '                               <span>SUSPENDED</span>'+
                                    '                           </div>'+
                                    '                       </div>'+
                                    '                        <div class="comp-inline-betting" id="men_ex_1_' + i + "_" + GetBfIdBroke + '" style="display:none;">' +
                                    '                            <div class="mod-inline-betting narrow">' +
                                    '                                <div class="place-bet-panel back extra-small" id="betplacepcolor_' + i + GetBfIdBroke + '"><span style="display:none;"></span><input type="hidden" value="">' +
                                    '                                    <div class="place-bet-container">' +
                                    '                                        <div class="bet-info">' +
                                    '                                            <div class="info">' +
                                    '                                                <div class="bet-info-back" id="teamtitlepo_bac_' + i + '">Back (Bet For):</div>' +

                                    '                                                <div class="bet-info-description">' +
                                    '                                                    <span id="teamtitlepo_' + i + '">Liverpool</span>' +
                                    '                                                </div>' +
                                    '                                            </div>' +
                                    '                                        </div>' +
                                    '                                        <div class="bet-actions-container nudges-visible">' +
                                    '                                            <div class="price-container">' +
                                    '                                                <div class="input">' +
                                    '                                                    <button class="negative-nudge minus" id="minus1" onclick="OddsDownO(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                                                        <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                    '                                                    </button>' +
                                    '                                                    <div class="ppb-numeric-input-overlay-wrapper">' +
                                    '                                                        <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Odds" id="oddsO_' + i + GetBfIdBroke + '">' +
                                    '                                                    </div>' +
                                    '                                                    <button class="positive-nudge add" id="add1" onclick="OddsUpO(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                                                        <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                    '                                                    </button>' +
                                    '                                                </div>' +
                                    '                                            </div>' +
                                    '                                            <div class="size-container">' +
                                    '                                                <div class="input">' +
                                    '                                                    <button class="negative-nudge qtyminus" field="quantity" onclick="StakeDownO(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">>' +
                                    '                                                        <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                    '                                                    </button>' +
                                    '                                                    <div class="ppb-numeric-input-overlay-wrapper">' +
                                    '                                                        <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="txt1_o_' + i + GetBfIdBroke + '" oninput="manage2(' + i + ')">' +
                                    '                                                    </div>' +
                                    '                                                    <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUpO(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                                                        <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                    '                                                    </button>' +
                                    '                                                </div>' +
                                    '                                            </div>' +
                                    '                                            <button class="reset-bet visible-when-narrow" onclick="hideOtherPopup(' + i + ',' + GetBfIdBroke + ',' + runlength + ')">Cancel</button>' +
                                    '                                            <button class="place-bet" style="color:white;" type="submit" id="place_bet_o_' + i + GetBfIdBroke + '" onclick="SubmitBetOtherM(\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',' + i + ')">' +
                                    '                                                <span class="place-bet-title">Place bet</span>' +
                                    '                                                <span id="panel_o_' + i + GetBfIdBroke + '" style="display: none; font-size: 11px; float: left; margin-left: 50px;">' +
                                    '                                                    Profit $<span class="place-bet-profit" id="panel_o_p_' + i + GetBfIdBroke + '" style="float: right; font-size: 12px; margin-left: 5px;"></span>' +
                                    '                                                </span>' +
                                    '                                            </button>' +
                                    '                                        </div>' +
                                    '                                    </div>' +
                                    '                                </div>' +
                                    '                            </div>' +
                                    '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                    '<div class="panel-row panel-keyboard">' +
                                    '   <div class="panel-row">' +
                                    '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo1(100,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">100</div>' +
                                    '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo1(500,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">500</div>' +
                                    '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo1(2000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2000</div>' +
                                    '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardMo1(5000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5000</div>' +
                                    '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardMo1(25000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">25000</div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '<div class="panel-row panel-keyboard">' +
                                    '   <div class="panel-left">' +
                                    '       <div class="panel-row">' +
                                    '           <div class="button-container numeric-input-1" onclick="placekeyboardMo1(1,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">1</div>' +
                                    '           <div class="button-container numeric-input-2" onclick="placekeyboardMo1(2,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2</div>' +
                                    '           <div class="button-container numeric-input-3" onclick="placekeyboardMo1(3,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">3</div>' +
                                    '           <div class="button-container numeric-input-4" onclick="placekeyboardMo1(4,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">4</div>' +
                                    '           <div class="button-container numeric-input-5" onclick="placekeyboardMo1(5,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5</div>' +
                                    '           <div class="button-container numeric-input-6" onclick="placekeyboardMo1(6,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">6</div>' +
                                    '       </div>' +
                                    '       <div class="panel-row bottom-row">' +
                                    '           <div class="button-container numeric-input-7" onclick="placekeyboardMo1(7,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">7</div>' +
                                    '           <div class="button-container numeric-input-8" onclick="placekeyboardMo1(8,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">8</div>' +
                                    '           <div class="button-container numeric-input-9" onclick="placekeyboardMo1(9,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">9</div>' +
                                    '           <div class="button-container numeric-input-0" onclick="placekeyboardMo1(0,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">0</div>' +
                                    '           <div class="button-container numeric-input-00" onclick="placekeyboardMo1(\'00\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">00</div>' +
                                    '           <div class="button-container numeric-input-." onclick="placekeyboardMo1(\'.\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">.</div>' +
                                    '           ' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <div class="panel-right">' +
                                    '       <div class="panel-row">' +
                                    '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardMo1(\'X\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '               <span class="icon-clear"></span>' +
                                    '           </div>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '</div>' +
                                    '</div>'+
                                    '<div id="place_bet_loader_o_'+ i + GetBfIdBroke + '" style="display:none;">'+
                                    '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>'+
                                    '<div style="margin-top: -240px;height: 240px;">'+
                                    '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">'+
                                    '</div>'+
                                    '</div>';
                                    $("#all_other_markets_loader_" + index).css("display", "none");
                                    $('#OtherAmrketAllViewD_' + index).append(myvar8);
                                    if (i == runlength - 1) {
                                        GetWmeForD(a2[i].BetfairId);
                                    }
                                }
                            }
                        }
                    },
                    failure: function (errMsg) {
                        alert(errMsg);
                    }
                });
            }
        }
        if (Time_Stamp < 1800) {
            setInterval(function () { GetAllOMarkets1(); }, 1000);
        }
    </script>
    <script>
        var book_id = $("#book_id").val();
		if (book_id != "0") {
            getbookmak();
            $("#book_is_id").css("display", "");
        }

        var MoCheckbm = "no";
        function getbookmak() {
            var id = $("#sessionEVID").val();
            $.ajax({
                url: '/exchange/GetGullyData',
                contentType: 'application/html ; charset:utf-8',
                type: 'GET',
                data: {
                    data: id
                },
                dataType: 'html',
                success: function (result) {
                    var a2 = JSON.parse(result);
                    var runlength = a2.length;
                    var GetRLength = a2.length;
                    if (GetRLength > 0) {
                        for (i = 0; i < a2.length; i++) {
                            var GetBfIdBroke = a2[i].BetfairId;
                            if ($("#bmmt_" + i).val() == i) {
                                if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0")) {
                                    $("#bmback_lay_suspend_" + i).css("display", "flex");
                                }
                                else {
                                    $("#bmback_lay_suspend_" + i).css("display", "none");
                                }
                                $("#bmbackprice1_" + i).text(a2[i].back1);
                                $("#bmbacksize1_" + i).text(a2[i].back1size);
                                $("#bmlayprice1_" + i).text(a2[i].lay1);
                                $("#bmlaysize1_" + i).text(a2[i].lay1size);
                            }
                            else {
                                var bmback_lay_suspend_color = "none";
                                if ((a2[i].back1 == "" && a2[i].lay1 == "") || (a2[i].back1 == "0" && a2[i].lay1 == "0")) {
                                    bmback_lay_suspend_color = "flex";
                                }
                                var myvar = '<div class="comp-runner-container">' +
                                    '<input type="hidden" id="bmmt_' + i + '" value="' + i + '">' +
                                    '<input type="hidden" id="run_length_' + GetBfIdBroke + "_" + i + '" value="' + runlength + '">' +
                                    '<div class="runner-data-container">' +
                                    '   <div class="runner-info-container" style="margin-left: 10px;">' +
                                    '       <div class="ellipsis-text runner-name">' +
                                    '           <span id="runnername_' + GetBfIdBroke + "_" + i + '">' + a2[i].Runnername + '</span>' +
                                    '       </div>' +
                                    '   <div style="margin-top: 5px;">' +
                                    '       <span id="run_cal_bef_' + GetBfIdBroke + "_" + i + '">0.00</span>' +
                                    '       <span id="run_cal_aft_' + GetBfIdBroke + "_" + i + '"></span>' +
                                    '   </div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '<div class="runner-bet-buttons-container">' +
                                    '<div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">' +
                                    '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" onclick="BetPlacePopupShowBM(\'back\',' + i + ',\'bmbackprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'1\',\'' + a2[i].Runnername + '\')">' +
                                    '       <span class="price" id="bmbackprice1_' + i + '">' + a2[i].back1 + '</span>' +
                                    '       <span class="size ellipsis-text" id="bmbacksize1_' + i + '">' + a2[i].back1size + ' </span>' +
                                    '   </button>' +
                                    '</div>' +
                                    '<div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">' +
                                    '   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlacePopupShowBM(\'lay\',' + i + ',\'bmlayprice1_\',\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',\'2\',\'' + a2[i].Runnername + '\')">' +
                                    '       <span class="price" id="bmlayprice1_' + i + '">' + a2[i].lay1 + '</span>' +
                                    '       <span class="size ellipsis-text" id="bmlaysize1_' + i + '">' + a2[i].lay1size + '  </span>' +
                                    '   </button>' +
                                    '</div>' +
                                    '</div>' +
                                    '</div>' +
                                    '<div class="comp-runner-container" style="margin-top: -50px;display:' + bmback_lay_suspend_color + ';" id="bmback_lay_suspend_' + i + '">' +
                                    '  <div class="runner-data-container"></div>' +
                                    '  <div class="runner-bet-buttons-container box_suspend">' +
                                    '      <span>BALL INPLAY</span>' +
                                    '  </div>' +
                                    '</div>' +
                                    '<div class="comp-inline-betting" id="bmmen_ex_' + i + '" style="display:none;">' +
                                    '<div class="mod-inline-betting narrow">' +
                                    '   <div class="place-bet-panel back extra-small" id="BMBetPlacePopupColor_' + i + '">' +
                                    '       <span style="display:none;"></span><input type="hidden" value="">' +
                                    '       <div class="place-bet-container">' +
                                    '           <div class="bet-info">' +
                                    '               <div class="info">' +
                                    '                   <div class="bet-info-back" id="bmteamback_' + i + '">Back (Bet For):</div>' +
                                    '                   <div class="bet-info-lay">Lay (Bet Against):</div>' +
                                    '                   <div class="bet-info-description">' +
                                    '                       <span id="bmteamtitles_' + i + '"></span>' +
                                    '                       <span>-</span>' +
                                    '                       <span>Match Odds</span>' +
                                    '                   </div>' +
                                    '               </div>' +
                                    '           </div>' +
                                    '           <div class="bet-actions-container nudges-visible">' +
                                    '               <div class="price-container">' +
                                    '                   <div class="input">' +
                                    '                       <button class="negative-nudge minus" id="minus1" onclick="OddsDownBM(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                    '                       </button>' +
                                    '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                    '                           <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Odds" id="bmodds_' + i + '">' +
                                    '                       </div>' +
                                    '                       <button class="positive-nudge add" id="add1" onclick="OddsUpBM(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                    '                       </button>' +
                                    '                   </div>' +
                                    '               </div>' +
                                    '               <div class="size-container">' +
                                    '                   <div class="input">' +
                                    '                       <button class="negative-nudge qtyminus" field="quantity" onclick="StakeDownBM(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                    '                       </button>' +
                                    '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                    '                           <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="bmtxt1_' + i + '" oninput="bmmanage1(' + i + ')">' +
                                    '                       </div>' +
                                    '                       <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUpBM(' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                    '                       </button>' +
                                    '                   </div>' +
                                    '               </div>' +
                                    '               <button class="reset-bet visible-when-narrow" onclick="hideBMPopup(' + i + ',' + GetBfIdBroke + ',' + runlength + ')">Cancel</button>' +
                                    '               <button class="place-bet" type="submit" disabled="disabled" id="bmplace_bet_' + i + '" onclick="SubmitBetBM(\'' + a2[i].BetfairId + '\',' + a2[i].EventCode + ',' + i + ')">' +
                                    '                   <span class="place-bet-title">Place bet</span> ' +
                                    '                   <span id="bmpanle2_' + i + '" style="display: none; font-size: 11px; float: left; margin-left: 50px;">Profit $<span class="place-bet-profit" id="bmbet_profit1_' + i + '" style="float: right; font-size: 12px; margin-left: 5px;"></span>' +
                                    '                   </span>' +
                                    '               </button>' +
                                    '           </div>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                    '<div class="panel-row panel-keyboard">' +
                                    '   <div class="panel-row">' +
                                    '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardBM(100,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">100</div>' +
                                    '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardBM(500,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">500</div>' +
                                    '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardBM(2000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2000</div>' +
                                    '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardBM(5000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5000</div>' +
                                    '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardBM(25000,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">25000</div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '<div class="panel-row panel-keyboard">' +
                                    '   <div class="panel-left">' +
                                    '       <div class="panel-row">' +
                                    '           <div class="button-container numeric-input-1" onclick="placekeyboardBM(1,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">1</div>' +
                                    '           <div class="button-container numeric-input-2" onclick="placekeyboardBM(2,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">2</div>' +
                                    '           <div class="button-container numeric-input-3" onclick="placekeyboardBM(3,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">3</div>' +
                                    '           <div class="button-container numeric-input-4" onclick="placekeyboardBM(4,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">4</div>' +
                                    '           <div class="button-container numeric-input-5" onclick="placekeyboardBM(5,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">5</div>' +
                                    '           <div class="button-container numeric-input-6" onclick="placekeyboardBM(6,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">6</div>' +
                                    '       </div>' +
                                    '       <div class="panel-row bottom-row">' +
                                    '           <div class="button-container numeric-input-7" onclick="placekeyboardBM(7,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">7</div>' +
                                    '           <div class="button-container numeric-input-8" onclick="placekeyboardBM(8,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">8</div>' +
                                    '           <div class="button-container numeric-input-9" onclick="placekeyboardBM(9,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">9</div>' +
                                    '           <div class="button-container numeric-input-0" onclick="placekeyboardBM(0,' + i + ',' + runlength + ',' + GetBfIdBroke + ')">0</div>' +
                                    '           <div class="button-container numeric-input-00" onclick="placekeyboardBM(\'00\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">00</div>' +
                                    '           <div class="button-container numeric-input-." onclick="placekeyboardBM(\'.\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">.</div>' +
                                    '           ' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <div class="panel-right">' +
                                    '       <div class="panel-row">' +
                                    '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardBM(\'X\',' + i + ',' + runlength + ',' + GetBfIdBroke + ')">' +
                                    '               <span class="icon-clear"></span>' +
                                    '           </div>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '</div>' +
                                    '</div>' +
                                    '</div>' +
                                    '<div id="bmplace_bet_loader_' + i + GetBfIdBroke + '" style="display:none;">' +
                                    '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>' +
                                    '<div style="margin-top: -240px;height: 240px;">' +
                                    '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">' +
                                    '</div>' +
                                    '</div>';
                                $('#match_odds_data_loader_bm').css("display", "none");
                                $('#match_odds_data_bm').append(myvar);
                                if (i == GetRLength - 1) {
                                    GetWmeForDBM(a2[i].BetfairId);
                                }
                            }
                        }
                    }
                    else{
                        $('#match_odds_data_loader_bm').css("display", "none");
                    }
                }
            })
        }
        if (MoCheckbm == "no" && Time_Stamp < 1800 && book_id != "0") {
            MoCheckbm = "yes";
            setInterval(function () { getbookmak(); }, 1000);
        }


        var HideBm = "jkl";
        function BetPlacePopupShowBM(box, index, OddsValue, BetfairId, EventCode, box_run, runnernameg) {

            document.getElementById("bmtxt1_" + index).value = "";
            document.getElementById("bmpanle2_" + index).style.display = "none";
            document.getElementById('bmplace_bet_' + index).disabled = true;
            var oddsvalueget = $('#' + OddsValue + index).text();
            if (oddsvalueget != "") {
                $("#bmodds_" + index).val(oddsvalueget);
                $("#bmteamtitles_" + index).text(runnernameg);
                if (box == "back") {
                    $("#BMBetPlacePopupColor_" + index).css("background-color", "#d2ebff");

                    $("#bmteamback_" + index).text("Back (Bet For):");
                } else if (box == "lay") {
                    $("#BMBetPlacePopupColor_" + index).css("background-color", "#f3dce2");
                    $("#bmteamback_" + index).text("Lay (Bet Against):");
                }

                if ($("#bmmen_ex_" + index).css('display') == 'none') {

                    if (HideBm != "jkl") {
                        $("#bmmen_ex_" + HideBm).css("display", "none");
                    }
                    $("#bmmen_ex_" + index).toggle({
                        duration: 600,
                    });


                    $("#bmmen_ex_" + index).css("display", "contents");
                    HideBm = index;

                } else {
                    if ($("#BMBetPlacePopupColor_" + index).children("span").text() + $("#BMBetPlacePopupColor_" + index).children("input").val() == box + box_run) {
                        $("#bmmen_ex_" + index).css("display", "none");
                    }
                }

                $("#BMBetPlacePopupColor_" + index).children("span").text(box);
                $("#BMBetPlacePopupColor_" + index).children("input").val(box_run);
            }
            else {

            }

        }

        function hideBMPopup(target, bfid, runlength) {
            for (var il = 0; il < runlength; il++) {
                $('#run_cal_aft_' + bfid + '_' + il).text("");
            }
            $("#bmmen_ex_" + target).css("display", "none");
        }

        function placekeyboardBM(bt_val, index, runlength, bfidrep) {
            var tt = $('#bmtxt1_' + index).val();
            if (bt_val > 10) {
                if (tt == "") {
                    tt = 0;
                }
                var new_stake = parseInt(bt_val) + parseInt(tt);
            }
            else {
                if (bt_val == "X") {
                    var new_stake = tt.slice(0, -1);
                }
                else if (bt_val == "stkpm") {
                    var new_stake = tt;
                }
                else if (bt_val == "oddspm") {
                    var new_stake = tt;
                }
                else {
                    var new_stake = tt + bt_val;
                }
            }
            $('#bmtxt1_' + index).val(new_stake);
            var tt = new_stake;
            var todds = $('#bmodds_' + index).val();
            var bp = document.getElementById("bmpanle2_" + index);
            var bt = document.getElementById('bmplace_bet_' + index);
            var FieldBox = $("#BMBetPlacePopupColor_" + index).children("span").text();
            var PL = todds * new_stake;
            PL = parseFloat(PL).toFixed(2);
            var ProfitlossVal = PL - new_stake;
            var i2 = 0.00;
            i2 = parseFloat(ProfitlossVal).toFixed(2);

            var new_stake15 = new_stake;
            if (FieldBox == "back") {
                new_stake15 = i2;
            }
            if (new_stake >= 1) {
                for (var il = 0; il < runlength; il++) {
                    var wmeo = 0.00;
                    wmeo = $('#run_cal_bef_' + bfidrep + '_' + il).text();
                    if (il == index && FieldBox == "back") {
                        var sameback = parseFloat(parseFloat(wmeo) + parseFloat(i2)).toFixed(2);
                        if (sameback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (sameback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + sameback);
                    } else if (il == index && FieldBox == "lay") {
                        var samelay = parseFloat(parseFloat(wmeo) - parseFloat(i2)).toFixed(2);
                        if (samelay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (samelay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + samelay);
                    } else if (il != index && FieldBox == "back") {
                        var revback = parseFloat(parseFloat(wmeo) - parseFloat(new_stake)).toFixed(2);
                        if (revback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revback);
                    } else if (il != index && FieldBox == "lay") {
                        var revlay = parseFloat(parseFloat(wmeo) + parseFloat(new_stake)).toFixed(2);
                        if (revlay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revlay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(" --> $" + revlay);
                    }
                }
                bt.disabled = false;
                $("#bmbet_profit1_" + index).html(new_stake15);
                bp.style.display = "block";

            } else {
                for (var il = 0; il < runlength; il++) {
                    $('#run_cal_aft_' + bfidrep + '_' + il).text("");
                }
                $("#bmbet_profit1_" + index).html("");
                bt.disabled = true;
                bp.style.display = "none";
            }
        }

        function bmmanage1(index) {

            var tt = $('#bmtxt1_' + index).val();
            var bp = document.getElementById("bmpanle2_" + index);
            var bt = document.getElementById('bmplace_bet_' + index);
            if (tt >= 1) {
                bt.disabled = false;
                $("#bmbet_profit1_" + index).html(tt);
                bp.style.display = "block";

            } else {
                bt.disabled = true;
                bp.style.display = "none";
            }

        }

        function SubmitBetBM(betfairid, eventcode, index) {
            var GetLog = '@Session["UserName"]';
            if (GetLog != "" && GetLog != null) {
                document.getElementById('bmplace_bet_' + index).disabled = true;
                var betfair_id_break = betfairid;
                var run_length = $("#run_length_" + betfair_id_break + "_" + index).val();
                var stackValue = $("#bmtxt1_" + index).val();
                var runner_name = $("#runnername_" + betfair_id_break + "_" + index).text();
                var field_box = $("#BMBetPlacePopupColor_" + index).children("span").text();
                var OddsValue = $("#bmodds_" + index).val();
                var run_pos = parseInt(index) + 1;
                var market_name = "BookMaker";

                $.ajax({
                    type: "POST",
                    url: "/Check/BetPlaceBM",
                    data: {
                        BetfairId: betfairid,
                        EventCode: eventcode,
                        stackValue: stackValue,
                        OddsValue: OddsValue,
                        RunnerIndex: run_pos,
                        BoxType: field_box,
                        RunnerNameget: runner_name,
                        MarketName: market_name,
                    },
                    beforeSend: function(){
                        $("#bmplace_bet_loader_" +index+ betfair_id_break).css("display", "");
                    },
                    success: function (result) {
                        GetWmeForDBM(betfairid);
                        $("#bmplace_bet_loader_" +index+ betfair_id_break).css("display", "none");
                        hideBMPopup(index, betfair_id_break, run_length);
                        GetPlaceBet();
                        UserBalance();
                        if (result.responseText == "Bet Submitted Successfully") {
                            showProgressBarMessageSuccess(result.responseText);
                        }
                        else {
                            showProgressBarMessageError(result.responseText);
                        }

                    }
                });
            }
            else {
                window.location.href = "/exchange/Login";
            }
        }

        function GetWmeForDBM(GetId) {
            var GetBfIdBroke = GetId;//GetId.toString().split(".")[1];
            $.ajax({
                type: "POST",
                url: "/exchange/GetWinMAtchDa",
                dataType: "html",
                data: {
                    data: GetId
                },
                success: function (data) {
                    var a2 = JSON.parse(data);
                    for (i = 0; i < a2.length; i++) {
                        var run_cal_amout = a2[i].MainD;
                        if (run_cal_amout > 0) {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#20a052");
                        } else if (run_cal_amout < 0) {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#000000");
                        }
                        $("#run_cal_bef_" + GetBfIdBroke + "_" + i).text(run_cal_amout);
                    }
                }
            });
        }
    </script>


    <script>
        // Mo UpDown Odds Stake
        function StakeUpBM(index, iii, iiii) {
            var inputOdds = $("#bmtxt1_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) + (1);
            if (total < 0) {

            }
            else {
                $("#bmtxt1_" + index).val(total.toFixed(0));
            }

            placekeyboardBM("stkpm", index, iii, iiii);
        }
        function StakeDownBM(index, iii, iiii) {
            var inputOdds = $("#bmtxt1_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) - (1);

            if (total < 0) {

            }
            else {
                $("#bmtxt1_" + index).val(total.toFixed(0));
            }
            placekeyboardBM("stkpm", index, iii, iiii);
        }
        function OddsUpBM(index, iii, iiii) {
            var inputOdds = $("#bmodds_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) + (0.01);
            if (total < 1.01) {

            }
            else {
                $("#bmodds_" + index).val(total.toFixed(2));
            }

            placekeyboardBM("oddspm", index, iii, iiii);
        }
        function OddsDownBM(index, iii, iiii) {
            var inputOdds = $("#bmodds_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) - (0.01);

            if (total < 1.01) {

            }
            else {
                $("#bmodds_" + index).val(total.toFixed(2));
            }
            placekeyboardBM("oddspm", index, iii, iiii);
        }
    </script>
    <script>
        if ( is_fancy == "1") {
            getSession();
        }

        var SessCheck = "no";
        function getSession() {
            var id = $("#sessionEVID").val();
            var sessionBfSportID = $("#sessionBfSportID").val();
            var adihf = @Session["AdminID"];
            if (sessionBfSportID == 4) {
                $.ajax({
                    url: '/exchange/SessionDataAView',
                    contentType: 'application/html ; charset:utf-8',
                    type: 'GET',
                    data: {
                        Event_Code: id
                    },
                    dataType: 'html',
                    success: function (result) {
                        var aa = JSON.parse(result);
                        var a2 = JSON.parse(aa);
                        if (adihf == "14") {
                            if (a2.length > 0) {
                                var runlength = a2.length;
                                var total_sess = $("#total_sess").val();
                                if (runlength > 0) {
                                    $("#SessionData").css("display", "block");
                                }
                                if (total_sess != runlength) {
                                    $('#session_rate_data').empty();
                                    $("#total_sess").val(runlength);
                                }
                                for (i = 0; i < a2.length; i++) {
                                    if ($("#select_id_" + a2[i].SelectionId).val() == a2[i].SelectionId) {
                                        if ((a2[i].LayPrice1 < 1 && a2[i].BackPrice1 < 1) || a2[i].GameStatus != "") {
                                            $("#not_yes_suspend_" + a2[i].SelectionId).css("display", "block");
                                        }
                                        else {
                                            $("#not_yes_suspend_" + a2[i].SelectionId).css("display", "none");
                                        }
                                        $("#Not_value_" + a2[i].SelectionId).text(a2[i].LayPrice1);
                                        $("#Not_size_" + a2[i].SelectionId).text(a2[i].LaySize1);
                                        $("#Yes_value_" + a2[i].SelectionId).text(a2[i].BackPrice1);
                                        $("#Yes_size_" + a2[i].SelectionId).text(a2[i].BackSize1);
                                    }
                                    else {
                                        var not_yes_suspend_color = "none";
                                        if ((a2[i].LayPrice1 < 1 && a2[i].BackPrice1 < 1) || a2[i].GameStatus != "") {
                                            not_yes_suspend_color = "flex";
                                        }
                                        var myvar = '<div class="comp-runner-container"><input name="event_code" type="hidden" id="select_id_' + a2[i].SelectionId + '" value="' + a2[i].SelectionId + '">' +
                                            '           <input type="hidden" id="temp_id_' + a2[i].SelectionId + '"  value="' + a2[i].SelectionId + '">' +
                                            '           <input type="hidden" id="temp_type_' + a2[i].SelectionId + '"  value="sess">' +
                                            '           <div class="runner-data-container">' +
                                            '               <div class="runner-info-container" style="margin-left: 10px;">' +
                                            '                   <div class="ellipsis-text runner-name">' +
                                            '                       <span id="session_name_' + a2[i].SelectionId + '">' + a2[i].RunnerName + '</span>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '           </div>' +
                                            '           <div class="runner-bet-buttons-container">' +
                                            '              <div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">' +
                                            '                   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlaceSession(\'Not\',' + a2[i].SelectionId + ')">' +
                                            '                       <span class="price" id="Not_value_' + a2[i].SelectionId + '">' + a2[i].LayPrice1 + '</span>' +
                                            '                       <span class="size ellipsis-text" id="Not_size_' + a2[i].SelectionId + '">' + a2[i].LaySize1 + '</span>' +
                                            '                   </button>' +
                                            '              </div>' +
                                            '               <div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">' +
                                            '                   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" onclick="BetPlaceSession(\'Yes\',' + a2[i].SelectionId + ')">' +
                                            '                       <span class="price" id="Yes_value_' + a2[i].SelectionId + '">' + a2[i].BackPrice1 + '</span>' +
                                            '                       <span class="size ellipsis-text" id="Yes_size_' + a2[i].SelectionId + '">' + a2[i].BackSize1 + '</span>' +
                                            '                 </button>' +
                                            '               </div>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '       <div class="comp-runner-container" style="margin-top: -50px;display:' + not_yes_suspend_color + ';" id="not_yes_suspend_' + a2[i].SelectionId + '">' +
                                            '           <div class="runner-data-container"></div>' +
                                            '           <div class="runner-bet-buttons-container box_suspend">' +
                                            '               <span>BALL INPLAY</span>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '       <div class="comp-inline-betting" id="sessionbetpop_' + a2[i].SelectionId + '" style="display:none;">' +
                                            '           <div class="mod-inline-betting narrow">' +
                                            '   <div class="place-bet-panel back extra-small" id="SessionBetPlacePopupColor_' + a2[i].SelectionId + '">' +
                                            '   <span style="display:none;"></span><input type="hidden" value="">' +
                                            '       <div class="place-bet-container">' +
                                            '           <div class="bet-info" id="session_box_' + a2[i].SelectionId + '">' +
                                            '           </div>' +
                                            '           <div class="bet-actions-container nudges-visible">' +
                                            '               <div class="price-container">' +
                                            '                   <div class="input">' +
                                            '                       <button class="negative-nudge minus" id="minus1">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                            '                       </button>' +
                                            '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                            '                           <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Rate" id="srate_' + a2[i].SelectionId + '" disabled>' +
                                            '                       <input type="hidden" id="ssize_' + a2[i].SelectionId + '" value=""></div>' +
                                            '                       <button class="positive-nudge add" id="add1">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                            '                       </button>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '               <div class="size-container">' +
                                            '                   <div class="input">' +
                                            '                       <button class="negative-nudge qtyminus" field="quantity"  onclick="StakeUpDownSess(-1,' + a2[i].SelectionId + ')">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                            '                       </button>' +
                                            '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                            '                           <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="s_stakes_' + a2[i].SelectionId + '" >' +
                                            '                       </div>' +
                                            '                       <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUpDownSess(1,' + a2[i].SelectionId + ')">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                            '                       </button>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '               <button class="reset-bet visible-when-narrow" onclick="hideSessPopup(' + a2[i].SelectionId + ')">Cancel</button>' +
                                            '               <button class="place-bet" style="color:white;"  type="submit" disabled="disabled" id="place_bet_sess_' + a2[i].SelectionId + '" onclick="SubmitBetSession(' + a2[i].SelectionId + ')">' +
                                            '                   <span class="place-bet-title">Place bet</span> ' +
                                            '                   <span id="panle_sess_' + a2[i].SelectionId + '" style="display: none; "><span class="place-bet-profit" id="sess_bet_profit1_' + a2[i].SelectionId + '" style=" font-size: 12px; margin-left: 5px;"></span>' +
                                            '                   </span>' +
                                            '               </button>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                            '<div class="panel-row panel-keyboard">' +
                                            '   <div class="panel-row">' +
                                            '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(10,' + a2[i].SelectionId + ')">10</div>' +
                                            '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(50,' + a2[i].SelectionId + ')">50</div>' +
                                            '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(100,' + a2[i].SelectionId + ')">100</div>' +
                                            '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardSess(200,' + a2[i].SelectionId + '">200</div>' +
                                            '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(500,' + a2[i].SelectionId + ')">500</div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '<div class="panel-row panel-keyboard">' +
                                            '   <div class="panel-left">' +
                                            '       <div class="panel-row">' +
                                            '           <div class="button-container numeric-input-1" onclick="placekeyboardSess(1,' + a2[i].SelectionId + ')">1</div>' +
                                            '           <div class="button-container numeric-input-2" onclick="placekeyboardSess(2,' + a2[i].SelectionId + ')">2</div>' +
                                            '           <div class="button-container numeric-input-3" onclick="placekeyboardSess(3,' + a2[i].SelectionId + ')">3</div>' +
                                            '           <div class="button-container numeric-input-4" onclick="placekeyboardSess(4,' + a2[i].SelectionId + ')">4</div>' +
                                            '           <div class="button-container numeric-input-5" onclick="placekeyboardSess(5,' + a2[i].SelectionId + ')">5</div>' +
                                            '           <div class="button-container numeric-input-6" onclick="placekeyboardSess(6,' + a2[i].SelectionId + ')">6</div>' +
                                            '       </div>' +
                                            '       <div class="panel-row bottom-row">' +
                                            '           <div class="button-container numeric-input-7" onclick="placekeyboardSess(7,' + a2[i].SelectionId + ')">7</div>' +
                                            '           <div class="button-container numeric-input-8" onclick="placekeyboardSess(8,' + a2[i].SelectionId + ')">8</div>' +
                                            '           <div class="button-container numeric-input-9" onclick="placekeyboardSess(9,' + a2[i].SelectionId + ')">9</div>' +
                                            '           <div class="button-container numeric-input-0" onclick="placekeyboardSess(0,' + a2[i].SelectionId + ')">0</div>' +
                                            '           <div class="button-container numeric-input-00" onclick="placekeyboardSess(\'00\',' + a2[i].SelectionId + ')">00</div>' +
                                            '           <div class="button-container numeric-input-." onclick="placekeyboardSess(\'.\',' + a2[i].SelectionId + ')">.</div>' +
                                            '           ' +
                                            '       </div>' +
                                            '   </div>' +
                                            '   <div class="panel-right">' +
                                            '       <div class="panel-row">' +
                                            '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardSess(\'X\',' + a2[i].SelectionId + ')">' +
                                            '               <span class="icon-clear"></span>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '</div>' +
                                            '</div>' +
                                            '<div id="place_bet_loader_s_' + a2[i].SelectionId + '" style="display:none;">' +
                                            '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>' +
                                            '<div style="margin-top: -240px;height: 240px;">' +
                                            '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">' +
                                            '</div>' +
                                            '</div>';
                                        $('#session_rate_data').append(myvar);
                                    }
                                }
                            }
                        }
                        else {
                            if (a2.length > 0) {
                                var runlength = a2.length;
                                var total_sess = $("#total_sess").val();
                                if (runlength > 0) {
                                    $("#SessionData").css("display", "block");
                                }
                                if (total_sess != runlength) {
                                    $('#session_rate_data').empty();
                                    $("#total_sess").val(runlength);
                                }
                                for (i = 0; i < a2.length; i++) {
                                    if ($("#select_id_" + a2[i].SelectionId).val() == a2[i].SelectionId) {
                                        if ((a2[i].LayPrice1 < 1 && a2[i].BackPrice1 < 1) || a2[i].GameStatus != "") {
                                            $("#not_yes_suspend_" + a2[i].SelectionId).css("display", "block");
                                        }
                                        else {
                                            $("#not_yes_suspend_" + a2[i].SelectionId).css("display", "none");
                                        }
                                        $("#Not_value_" + a2[i].SelectionId).text(a2[i].LayPrice1);
                                        $("#Not_size_" + a2[i].SelectionId).text(a2[i].LaySize1);
                                        $("#Yes_value_" + a2[i].SelectionId).text(a2[i].BackPrice1);
                                        $("#Yes_size_" + a2[i].SelectionId).text(a2[i].BackSize1);
                                    }
                                    else {
                                        var not_yes_suspend_color = "none";
                                        if ((a2[i].LayPrice1 < 1 && a2[i].BackPrice1 < 1) || a2[i].GameStatus != "") {
                                            not_yes_suspend_color = "flex";
                                        }
                                        var myvar = '<div class="comp-runner-container"><input name="event_code" type="hidden" id="select_id_' + a2[i].SelectionId + '" value="' + a2[i].SelectionId + '">' +
                                            '           <input type="hidden" id="temp_id_' + a2[i].SelectionId + '"  value="' + a2[i].SelectionId + '">' +
                                            '           <input type="hidden" id="temp_type_' + a2[i].SelectionId + '"  value="sess">' +
                                            '           <div class="runner-data-container">' +
                                            '               <div class="runner-info-container" style="margin-left: 10px;">' +
                                            '                   <div class="ellipsis-text runner-name">' +
                                            '                       <span id="session_name_' + a2[i].SelectionId + '">' + a2[i].RunnerName + '</span>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '           </div>' +
                                            '           <div class="runner-bet-buttons-container">' +
                                            '              <div style="background-image: linear-gradient(270deg, rgba(247,205,214,0.75) 5%, #F0C0CB 60%);">' +
                                            '                   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button lay" onclick="BetPlaceSession(\'Not\',' + a2[i].SelectionId + ')">' +
                                            '                       <span class="price" id="Not_value_' + a2[i].SelectionId + '">' + a2[i].LayPrice1 + '</span>' +
                                            '                       <span class="size ellipsis-text" id="Not_size_' + a2[i].SelectionId + '">' + a2[i].LaySize1 + '</span>' +
                                            '                   </button>' +
                                            '              </div>' +
                                            '               <div style="background-image: linear-gradient(90deg, rgba(151,199,234,0.7) 0%, #97C7EA 65%);">' +
                                            '                   <button style="margin:5px;border-radius: 1.06667vw;border: 0.26667vw solid #fff;" class="ui-bet-button back" onclick="BetPlaceSession(\'Yes\',' + a2[i].SelectionId + ')">' +
                                            '                       <span class="price" id="Yes_value_' + a2[i].SelectionId + '">' + a2[i].BackPrice1 + '</span>' +
                                            '                       <span class="size ellipsis-text" id="Yes_size_' + a2[i].SelectionId + '">' + a2[i].BackSize1 + '</span>' +
                                            '                 </button>' +
                                            '               </div>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '       <div class="comp-runner-container" style="margin-top: -50px;display:' + not_yes_suspend_color + ';" id="not_yes_suspend_' + a2[i].SelectionId + '">' +
                                            '           <div class="runner-data-container"></div>' +
                                            '           <div class="runner-bet-buttons-container box_suspend">' +
                                            '               <span>BALL INPLAY</span>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '       <div class="comp-inline-betting" id="sessionbetpop_' + a2[i].SelectionId + '" style="display:none;">' +
                                            '           <div class="mod-inline-betting narrow">' +
                                            '   <div class="place-bet-panel back extra-small" id="SessionBetPlacePopupColor_' + a2[i].SelectionId + '">' +
                                            '   <span style="display:none;"></span><input type="hidden" value="">' +
                                            '       <div class="place-bet-container">' +
                                            '           <div class="bet-info" id="session_box_' + a2[i].SelectionId + '">' +
                                            '           </div>' +
                                            '           <div class="bet-actions-container nudges-visible">' +
                                            '               <div class="price-container">' +
                                            '                   <div class="input">' +
                                            '                       <button class="negative-nudge minus" id="minus1">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                            '                       </button>' +
                                            '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                            '                           <input type="tel" class="price-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Rate" id="srate_' + a2[i].SelectionId + '" disabled>' +
                                            '                       <input type="hidden" id="ssize_' + a2[i].SelectionId + '" value=""></div>' +
                                            '                       <button class="positive-nudge add" id="add1">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                            '                       </button>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '               <div class="size-container">' +
                                            '                   <div class="input">' +
                                            '                       <button class="negative-nudge qtyminus" field="quantity"  onclick="StakeUpDownSess(-1,' + a2[i].SelectionId + ')">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-minus-icon"></svg>' +
                                            '                       </button>' +
                                            '                       <div class="ppb-numeric-input-overlay-wrapper">' +
                                            '                           <input type="tel" name="quantity" class="size-input ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength ppb-numeric-input qty" placeholder="Stake" id="s_stakes_' + a2[i].SelectionId + '" >' +
                                            '                       </div>' +
                                            '                       <button class="positive-nudge qtyplus" field="quantity" onclick="StakeUpDownSess(1,' + a2[i].SelectionId + ')">' +
                                            '                           <svg class="nudge-icon sprite-bf-inline-betting-plus-icon"></svg>' +
                                            '                       </button>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '               <button class="reset-bet visible-when-narrow" onclick="hideSessPopup(' + a2[i].SelectionId + ')">Cancel</button>' +
                                            '               <button class="place-bet" style="color:white;"  type="submit" disabled="disabled" id="place_bet_sess_' + a2[i].SelectionId + '" onclick="SubmitBetSession(' + a2[i].SelectionId + ')">' +
                                            '                   <span class="place-bet-title">Place bet</span> ' +
                                            '                   <span id="panle_sess_' + a2[i].SelectionId + '" style="display: none; "><span class="place-bet-profit" id="sess_bet_profit1_' + a2[i].SelectionId + '" style=" font-size: 12px; margin-left: 5px;"></span>' +
                                            '                   </span>' +
                                            '               </button>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '<div class="ppb-doubleline-keyboard numeric-keyboard-open">' +
                                            '<div class="panel-row panel-keyboard">' +
                                            '   <div class="panel-row">' +
                                            '       <div class="button-container" style="border-left: 5px solid #E2E2E9;border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(100,' + a2[i].SelectionId + ')">100</div>' +
                                            '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(500,' + a2[i].SelectionId + ')">500</div>' +
                                            '       <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(2000,' + a2[i].SelectionId + ')">2000</div>' +
                                            '      <div class="button-container"  style="border-right: 5px solid #E2E2E9;"onclick="placekeyboardSess(5000,' + a2[i].SelectionId + ')">5000</div>' +
                                            '    <div class="button-container" style="border-right: 5px solid #E2E2E9;" onclick="placekeyboardSess(25000,' + a2[i].SelectionId + ')">25000</div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '<div class="panel-row panel-keyboard">' +
                                            '   <div class="panel-left">' +
                                            '       <div class="panel-row">' +
                                            '           <div class="button-container numeric-input-1" onclick="placekeyboardSess(1,' + a2[i].SelectionId + ')">1</div>' +
                                            '           <div class="button-container numeric-input-2" onclick="placekeyboardSess(2,' + a2[i].SelectionId + ')">2</div>' +
                                            '           <div class="button-container numeric-input-3" onclick="placekeyboardSess(3,' + a2[i].SelectionId + ')">3</div>' +
                                            '           <div class="button-container numeric-input-4" onclick="placekeyboardSess(4,' + a2[i].SelectionId + ')">4</div>' +
                                            '           <div class="button-container numeric-input-5" onclick="placekeyboardSess(5,' + a2[i].SelectionId + ')">5</div>' +
                                            '           <div class="button-container numeric-input-6" onclick="placekeyboardSess(6,' + a2[i].SelectionId + ')">6</div>' +
                                            '       </div>' +
                                            '       <div class="panel-row bottom-row">' +
                                            '           <div class="button-container numeric-input-7" onclick="placekeyboardSess(7,' + a2[i].SelectionId + ')">7</div>' +
                                            '           <div class="button-container numeric-input-8" onclick="placekeyboardSess(8,' + a2[i].SelectionId + ')">8</div>' +
                                            '           <div class="button-container numeric-input-9" onclick="placekeyboardSess(9,' + a2[i].SelectionId + ')">9</div>' +
                                            '           <div class="button-container numeric-input-0" onclick="placekeyboardSess(0,' + a2[i].SelectionId + ')">0</div>' +
                                            '           <div class="button-container numeric-input-00" onclick="placekeyboardSess(\'00\',' + a2[i].SelectionId + ')">00</div>' +
                                            '           <div class="button-container numeric-input-." onclick="placekeyboardSess(\'.\',' + a2[i].SelectionId + ')">.</div>' +
                                            '           ' +
                                            '       </div>' +
                                            '   </div>' +
                                            '   <div class="panel-right">' +
                                            '       <div class="panel-row">' +
                                            '           <div class="button-container-clear numeric-input-clear" onclick="placekeyboardSess(\'X\',' + a2[i].SelectionId + ')">' +
                                            '               <span class="icon-clear"></span>' +
                                            '           </div>' +
                                            '       </div>' +
                                            '   </div>' +
                                            '</div>' +
                                            '</div>' +
                                            '</div>' +
                                            '<div id="place_bet_loader_s_' + a2[i].SelectionId + '" style="display:none;">' +
                                            '<div style="margin-top: -240px;height: 240px;background: white;opacity: 0.5;"></div>' +
                                            '<div style="margin-top: -240px;height: 240px;">' +
                                            '<img src="/Content/images/prospin.gif" style="display: block;margin:auto;padding-top: 110px;position: relative;">' +
                                            '</div>' +
                                            '</div>';
                                        $('#session_rate_data').append(myvar);
                                    }
                                }
                            }
                        }

                    }
                })
            }
            else {
                $("#SessionData").css("display", "none");
            }
    }
        if (SessCheck == "no" && Time_Stamp < 900) {
            SessCheck = "yes";
            setInterval(function () { getSession(); }, 1000);
        }      

        @*if (GetLog != "" && GetLog != null) {
            if (SessCheckP == "no" && Time_Stamp < 300) {
                SessCheckP = "yes";
                setInterval(function () { getSessionP(); }, 1000);
            }
        }*@
        function placekeyboardSess(bt_val, bfidrep) {
            var tt = $('#s_stakes_' + bfidrep).val();
            if (bt_val >= 1) {
                if (tt == "") {
                    tt = 0;
                }
                var new_stake = parseInt(bt_val) + parseInt(tt);
            }
            else {
                if (bt_val == "X") {
                    var new_stake = tt.slice(0, -1);
                }
                else if (bt_val == "stkpm") {
                    var new_stake = tt;
                }
                else {
                    var new_stake = tt + bt_val;
                }
            }
            $('#s_stakes_' + bfidrep).val(new_stake);
            var tsize = $('#ssize_' + bfidrep).val();
            var ttype = $('#session_box_' + bfidrep).html();
            var bp = document.getElementById("panle_sess_" + bfidrep);
            var bt = document.getElementById('place_bet_sess_' + bfidrep);

            var TotalProfitLost = 0;
            var Getstack = 0;
            if (ttype == "Not") {
                TotalProfitLost = new_stake;
                Getstack = (new_stake * tsize) / 100;
            }
            else if (ttype == "Yes") {
                Getstack = new_stake;
                TotalProfitLost = (new_stake * tsize) / 100;
            }
            var ProfitlossVal = parseFloat(TotalProfitLost).toFixed(2);
            var prof_loss = "Profit $" + ProfitlossVal + " Exposure $" + Getstack;
            if (new_stake >= 1) {
                bt.disabled = false;
                $("#sess_bet_profit1_" + bfidrep).text(prof_loss);
                bp.style.display = "block";

            }
            else {
                $("#sess_bet_profit1_" + bfidrep).text("");
                bt.disabled = true;
                bp.style.display = "none";
            }
        }

        function BetPlaceSession(box, SessionId) {
            document.getElementById("s_stakes_" + SessionId).value = "";
            document.getElementById("panle_sess_" + SessionId).style.display = "none";
            document.getElementById('place_bet_sess_' + SessionId).disabled = true;
            var oddsvalueget = $('#' + box + "_value_" + SessionId).text();
            $("#srate_" + SessionId).val(oddsvalueget);
            var oddssizeget = $('#' + box + "_size_" + SessionId).text();
            $("#ssize_" + SessionId).val(oddssizeget);
            if (box == "Yes") {
                $("#SessionBetPlacePopupColor_" + SessionId).css("background-color", "#d2ebff");
            } else if (box == "Not") {
                $("#SessionBetPlacePopupColor_" + SessionId).css("background-color", "#f3dce2");
            }
            $("#session_box_" + SessionId).text(box);

            if ($("#sessionbetpop_" + SessionId).css('display') == 'none') {

                $("#sessionbetpop_" + SessionId).toggle({
                    duration: 600,
                });
                $("#sessionbetpop_" + SessionId).css("display", "contents");

            } else {
                if ($("#SessionBetPlacePopupColor_" + SessionId).children("span").text() + $("#SessionBetPlacePopupColor_" + SessionId).children("input").val() == box + box_run) {
                    $("#sessionbetpop_" + SessionId).css("display", "none");
                }
            }

            $("#SessionBetPlacePopupColor_" + SessionId).children("span").text(box);
            $("#SessionBetPlacePopupColor_" + SessionId).children("input").val("");


        }


        function SubmitBetMV(betfairid, eventcode, index) {
            var GetLog = '@Session["UserName"]';
            if (GetLog != "" && GetLog != null) {
                document.getElementById('place_bet_' + index).disabled = true;
                var betfair_id_break = (betfairid.toString().split(".")[1]);
                var run_length = $("#run_length_" + betfair_id_break + "_" + index).val();
                var stackValue = $("#txt1_" + index).val();
                var runner_name = $("#runnername_" + betfair_id_break + "_" + index).text();
                var field_box = $("#BetPlacePopupColor_" + index).children("span").text();
                var OddsValue = $("#odds_" + index).val();
                var run_pos = parseInt(index) + 1;
                var market_name = "Match Odds";
                var spo_id = $("#sessionBfSportID").val();
                var x_type = $("#x_type").val();
                var uurl = "/Check/BetPlaceM";
                if (spo_id == "66") {
                    uurl = "/Check/BetPlaceMX";
                }

                $.ajax({
                    type: "POST",
                    url: uurl,
                    data: {
                        BetfairId: betfairid,
                        EventCode: eventcode,
                        stackValue: stackValue,
                        OddsValue: OddsValue,
                        RunnerIndex: run_pos,
                        BoxType: field_box,
                        RunnerNameget: runner_name,
                        MarketName: market_name,
                        OddsVolume: x_type,
                    },
                    beforeSend: function(){
                        $("#place_bet_loader_" +index+ betfair_id_break).css("display", "");
                    },
                    success: function (result) {
                        GetWmeForD(betfairid);
                        $("#place_bet_loader_" +index+ betfair_id_break).css("display", "none");
                        hideMoPopup(index, betfair_id_break, run_length);
                        GetPlaceBet();
                        UserBalance();
                        if (result.responseText == "Bet Submitted Successfully") {
                            showProgressBarMessageSuccess(result.responseText);
                            SuccessPlaySound();
                        }
                        else {
                            showProgressBarMessageError(result.responseText);
                            ErrorPlaySound();
                        }

                    }
                });
            }
            else {
                window.location.href = "/exchange/Login";
            }
        }

        function SubmitBetSession(betfairid) {

            document.getElementById('place_bet_sess_' + betfairid).disabled = true;
            var GetLog = '@Session["UserName"]';
            if (GetLog != "" && GetLog != null) {

                var OddsValue = $("#srate_"+betfairid).val();
                var OddsVolume = $("#ssize_"+betfairid).val();
                var stackValue = $("#s_stakes_"+betfairid).val();
                var run_pos = 99;
                var eventcode = $("#sessionEVID").val();
                var runner_name = $("#session_box_"+betfairid).html();
                var market_name = $("#session_name_"+betfairid).html();
                var field_box = $("#session_box_" + betfairid).html();
                var temp_type = $("#temp_type_"+betfairid).val();
                var EventType = $("#x_type").val();
                var DUrl = "";
                if (temp_type == 'pre_sess') {
                    DUrl = "/Check/BetPlaceMSP";
                }
                else if (temp_type == 'sess') {
                    DUrl = "/Check/BetPlaceMS";
                }
                else {
                }
                $.ajax({
                    type: "POST",
                    url: DUrl,
                    data: {
                        BetfairId: betfairid,
                        EventCode: eventcode,
                        stackValue: stackValue,
                        OddsValue: OddsValue,
                        RunnerIndex: run_pos,
                        BoxType: field_box,
                        RunnerNameget: runner_name,
                        MarketName: market_name,
                        OddsVolume: OddsVolume,
                        EventType: EventType,
                    },
                    beforeSend: function(){
                        $("#place_bet_loader_s_" + betfairid).css("display", "");
                    },
                    success: function (result) {
                        $("#place_bet_loader_s_" + betfairid).css("display", "none");
                        hideSessPopup(betfairid);
                        if (result.responseText == "Success") {
                            showProgressBarMessageSuccess(result.responseText);
                            SuccessPlaySound();
                        }
                        else {
                            showProgressBarMessageError(result.responseText);
                            ErrorPlaySound();
                        }
                        UserBalance();
                        GetPlaceBet();

                    }
                });
            }
            else {
                window.location.href = "/exchange/Login";
            }
        }


        function hideSessPopup(target) {
            $("#sessionbetpop_" + target).css("display", "none");
        }


        function manage1(index, runlength, bfidrep) {

            var tt = $('#txt1_' + index).val();
            var todds = $('#odds_' + index).val();
            var bp = document.getElementById("panle2_" + index);
            var bt = document.getElementById('place_bet_' + index);
            var FieldBox = $("#BetPlacePopupColor_" + index).children("span").text();

            var PL = todds * tt;
            PL = parseFloat(PL).toFixed(2);
            var ProfitlossVal = PL - tt;
            var i2 = 0.00;
            i2 = parseFloat(ProfitlossVal).toFixed(2);

            if (tt >= 1) {
                for (var il = 0; il < runlength; il++) {
                    var wmeo = 0.00;
                    wmeo = $('#run_cal_bef_' + bfidrep + '_' + il).text();
                    if (il == index && FieldBox == "back") {
                        var sameback = parseFloat(parseFloat(wmeo) + parseFloat(i2)).toFixed(2);
                        if (sameback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (sameback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(sameback);
                    } else if (il == index && FieldBox == "lay") {
                        var samelay = parseFloat(parseFloat(wmeo) - parseFloat(i2)).toFixed(2);
                        if (samelay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (samelay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(samelay);
                    } else if (il != index && FieldBox == "back") {
                        var revback = parseFloat(parseFloat(wmeo) - parseFloat(tt)).toFixed(2);
                        if (revback > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revback < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(revback);
                    } else if (il != index && FieldBox == "lay") {
                        var revlay = parseFloat(parseFloat(wmeo) + parseFloat(tt)).toFixed(2);
                        if (revlay > 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#20a052");
                        } else if (revlay < 0) {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_aft_' + bfidrep + '_' + il).css("color", "#000000");
                        }
                        $('#run_cal_aft_' + bfidrep + '_' + il).text(revlay);
                    }
                }
                bt.disabled = false;
                $("#bet_profit1_" + index).html(tt);
                bp.style.display = "block";

            } else {
                bt.disabled = true;
                bp.style.display = "none";
            }
        }

        // Session Data End Here-- >

        //Start WME Data-- >
        function GetWmeForD(GetId) {
            var GetBfIdBroke = GetId.toString().split(".")[1];
            $.ajax({
                type: "POST",
                url: "/exchange/GetWinMAtchDa",
                dataType: "html",
                data: {
                    data: GetId
                },
                success: function (data) {
                    var a2 = JSON.parse(data);
                    for (i = 0; i < a2.length; i++) {
                        var run_cal_amout = a2[i].MainD;
                        if (run_cal_amout > 0) {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#20a052");
                        } else if (run_cal_amout < 0) {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#d54d4d");
                        } else {
                            $('#run_cal_bef_' + GetBfIdBroke + '_' + i).css("color", "#000000");
                        }
                        $("#run_cal_bef_" + GetBfIdBroke + "_" + i).text(run_cal_amout);
                    }
                }
            });
        }
    </script>
    <script>
        GetPlaceBet();
        function GetPlaceBet() {
            var OldBetName;
            var BetName;
            var BetType;
            $.ajax({
                type: "POST",
                url: "/FunctionData/GetPlaceBets",
                data: {
                    event_id: @ViewBag.EventCode,
                },
                success: function (response) {
                   // alert(response)
                    var hgfj = "Success";
                    if (hgfj == "Success") {
                      $("[id*=grvMatched]").empty();

                      //alert(response[0]["EventName"]);

                      if (response.length > 0) {
                        $("[id*=grvMatched]").append("<tr style='background-color:#212121; color:#FFFFFF;text-align:center;border-top: 0.5px solid white;'><th style='padding:5px 10px 5px 10px;'>Selections</th>  <th class='TextRight' style='padding-left:3px;padding-right:3px;'>Rate</th>  <th class='TextRight' style='padding-left:3px;padding-right:3px;'>Stake</th>  <th class='TextRight' style='padding-left:3px;padding-right:3px;'>P/L</th>  <th class='TextRight' style='width:60px;'>Time</th></tr>");

                        for (var i = 0; i < response.length; i++) {
                            BetName = response[i]["BetName"];
                            BetType = response[i]["BetType"];

                            if (BetName != OldBetName) {
                                $("[id*=grvMatched]").append("<tr><td colspan='5' class='text-center' style='background-color:#FFFFFF;font-weight: 900;color:#000000;padding-top:3px;padding-bottom:3px;border-top: 1px solid #2b4354;text-align:center;'>" + response[i]["BetName"] + "</td> </tr>");
                            }

                            if (BetType == 'B') {

                                $("[id*=grvMatched]").append("<tr class='RowBorderBack' style='background: #a6d8ff;'><td style='padding-left:10px;padding-right:10px;color:#000000;border-top: 1px solid #2b4354;'>" +
                                    response[i]["RunnerName"] + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" +
                                    parseFloat(response[i]["Price"]) + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" + response[i]["Qty"] + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" + parseFloat(response[i]["PL"]).toFixed(2) + "</td> <td style='color:#000000;border-top: 1px solid #2b4354; font-size:10px;' class='TextRight'>" +
                                    response[i]["created"] + "</td></tr>");
                            }
                            else {
                                $("[id*=grvMatched]").append("<tr class='RowBorderLay' style='background: #fac9d1;'><td style='padding-left:10px;padding-right:10px;color:#000000;border-top: 1px solid #2b4354;'>" +
                                    response[i]["RunnerName"] + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" +
                                    parseFloat(response[i]["Price"]) + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" + response[i]["Qty"] + "</td> <td style='color:#000000;border-top: 1px solid #2b4354;' class='TextRight'>" + parseFloat(response[i]["PL"]).toFixed(2) + "</td> <td style='color:#000000;border-top: 1px solid #2b4354; font-size:10px;' class='TextRight'>" +
                                    response[i]["created"] + "</td></tr>");
                            }

                            OldBetName = response[i]["BetName"];
                        }
                      }
                      else {
                            $("[id*=grvMatched]").append("<tr><td style='text-align:center;padding-top:6px;padding-bottom:6px;color:#000000;'>There are currently no Matched Bets</td></tr>");
                       }
                    }
                },
            });
        }
    </script>

    <script>
        // Mo UpDown Odds Stake
        function StakeUp(index, iii, iiii) {
            var inputOdds = $("#txt1_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) + (1);
            if (total < 0) {

            }
            else {
                $("#txt1_" + index).val(total.toFixed(0));
            }

            placekeyboardMo("stkpm", index, iii, iiii);
        }
        function StakeDown(index, iii, iiii) {
            var inputOdds = $("#txt1_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) - (1);

            if (total < 0) {

            }
            else {
                $("#txt1_" + index).val(total.toFixed(0));
            }
            placekeyboardMo("stkpm", index, iii, iiii);
        }
        function OddsUp(index, iii, iiii) {
            var inputOdds = $("#odds_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) + (0.01);
            if (total < 1.01) {

            }
            else {
                $("#odds_" + index).val(total.toFixed(2));
            }

            placekeyboardMo("oddspm", index, iii, iiii);
        }
        function OddsDown(index, iii, iiii) {
            var inputOdds = $("#odds_" + index).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) - (0.01);

            if (total < 1.01) {

            }
            else {
                $("#odds_" + index).val(total.toFixed(2));
            }
            placekeyboardMo("oddspm", index, iii, iiii);
        }
    </script>

    <script>
        // Other UpDown Odds Stake
        function StakeUpO(index, iii, iiii) {
            var inputOdds = $("#txt1_o_" + index + iiii).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) + (1);
            if (total < 0) {

            }
            else {
                $("#txt1_o_" + index + iiii).val(total.toFixed(0));
            }

            placekeyboardMo1("stkpm", index, iii, iiii);
        }
        function StakeDownO(index, iii, iiii) {
            var inputOdds = $("#txt1_o_" + index + iiii).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) - (1);

            if (total < 0) {

            }
            else {
                $("#txt1_o_" + index + iiii).val(total.toFixed(0));
            }
            placekeyboardMo1("stkpm", index, iii, iiii);
        }
        function OddsUpO(index, iii, iiii) {
            var inputOdds = $("#oddsO_" + index + iiii).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) + (0.01);
            if (total < 1.01) {

            }
            else {
                $("#oddsO_" + index + iiii).val(total.toFixed(2));
            }

            placekeyboardMo1("oddspm", index, iii, iiii);
        }
        function OddsDownO(index, iii, iiii) {
            var inputOdds = $("#oddsO_" + index + iiii).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }

            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseFloat(inputOdds) - (0.01);

            if (total < 1.01) {

            }
            else {
                $("#oddsO_" + index + iiii).val(total.toFixed(2));
            }
            placekeyboardMo1("oddspm", index, iii, iiii);
        }
    </script>
    <script>
        function StakeUpDownSess(value, bfidrep) {
            var inputOdds = $("#s_stakes_" + bfidrep).val();
            if (inputOdds == "") {
                inputOdds = 0;
            }
            if (isNaN(inputOdds)) {
                inputOdds = 0;
            }
            var total = parseInt(inputOdds) + (value);
            if (total < 0) {

            }
            else {
                $("#s_stakes_" + bfidrep).val(total.toFixed(0));
            }

            placekeyboardSess("stkpm", bfidrep);
        }
    </script>
    <script>
        var edst = $("#sessionBfSportID").val();
        if (Time_Stamp < 1) {
            if (edst == "2") {
                tennis_score();
            }
            else if (edst == "4") {
                cricket_score();
            }
            else if (edst == "1") {
                soccer_score();
            }
        }
        function createCORSRequest(method, url) {
            var xhr = new XMLHttpRequest();
            if ("withCredentials" in xhr) {
                xhr.open(method, url, true);
            } else if (typeof XDomainRequest != "undefined") {
                xhr = new XDomainRequest();
                xhr.open(method, url);
            } else {
                xhr = null;
            }
            return xhr;
        }
        function soccer_score() {
            var matchId = $("#sessionEVID").val();
            var request = createCORSRequest("get", "https://ips.betfair.com/inplayservice/v1/eventTimeline?_ak=nzIFcwyWhrlwYMrh&alt=json&eventId=" + matchId + "&locale=en&productType=EXCHANGE&regionCode=ASIA");
            if (request) {
                request.onload = function (response) {
                    var fhg = response["target"]["response"];
                    var data = JSON.parse(fhg);
                    try {
                        var gyg = Object.entries(data).length;
                        if (gyg > 0) {
                            $("#soccer_score").css("display", "flex");
                            $("#football_score").css("display", "flex");
                            var elapsedRegularTime = data["elapsedRegularTime"];
                            var score = data["score"];
                            var home_score = score["home"]["score"];
                            var away_score = score["away"]["score"];
                            $("#time_escaped").text(elapsedRegularTime + "'");
                            $("#home_score_f").text(home_score);
                            $("#away_score_f").text(away_score);
                            var updatedetail = data["updateDetails"];
                            var totaltime = data["elapsedRegularTime"];
                            var firstbarper = parseInt((parseInt(totaltime) / 45 * 100));
                            var secondbarper = firstbarper - 100;
                            $("#firstbar").css("width", firstbarper + "%");
                            $("#secondbar").css("width", secondbarper + "%");
                            for (var i = 1; i < updatedetail.length; i++) {
                                var leftperc = updatedetail[i]["elapsedRegularTime"];
                                var per = parseInt((parseInt(leftperc) / 45 * 100));
                                var type = updatedetail[i]["type"];
                                var team = updatedetail[i]["team"];
                                var teamName = updatedetail[i]["teamName"];
                                if (type == "Goal" || type == "YellowCard" || type == "RedCard") {
                                    if ($("#maindev_" + updatedetail[i]["updateId"]).val() == updatedetail[i]["updateId"]) {

                                    }
                                    else {
                                        var myvar = '<div class="bf-tooltip-parent ' + team + ' ' + type + '" style="left: ' + per + '%;">' +
                                            '                <input type="hidden" id="maindev_' + updatedetail[i]["updateId"] + '" value="' + updatedetail[i]["updateId"] + '" /> <div class="bf-tooltip-wrapper rounded top center">' +
                                            '                    <div class="bf-tooltip">' +
                                            '                        <div class="text">' +
                                            '                            <span class="match-time">' +
                                            '                             ' + leftperc + '\'' +
                                            '                             <br>' +
                                            '                            </span>' +
                                            '                           <span class="update-type ' + type + '"></span>' +
                                            '                           <span class="team-name">' + teamName + '</span>' +
                                            '                           <br>' +
                                            '                       </div>' +
                                            '                   </div>' +
                                            '               </div>' +
                                            '           </div>';
                                        $("#firsthalf").append(myvar);
                                    }
                                }
                            }
                        }
                        else {
                            $("#soccer_score").css("display", "none");
                        }
                    }
                    catch (e) {

                    }

                };
                request.send();
            }
            setTimeout(function () { soccer_score(); }, 1000);
        }
        function tennis_score() {
            var matchId = $("#sessionEVID").val();
            var request = createCORSRequest("get", "https://ips.betfair.com/inplayservice/v1/eventTimeline?_ak=nzIFcwyWhrlwYMrh&alt=json&eventId=" + matchId + "&locale=en&productType=EXCHANGE&regionCode=ASIA");
            if (request) {
                request.onload = function (response) {
                    var fhg = response["target"]["response"];
                    //alert(fhg);
                    var data = JSON.parse(fhg);
                    try {
                        var gyg = Object.entries(data).length;
                        if (gyg > 0) {
                            $("#tennis_score").css("display", "flex");
                            var home_finish = data["score"]["home"]["gameSequence"];
                            $("#home_sets").empty();
                            for (var i = 0; i < home_finish.length; i++) {
                                var home_sets = '<div class="cell" style="padding:0px;height: 17px;width: 30px;font-size: 12px;color:#9d9d9d;"><span>' + home_finish[i] + '</span></div>';
                                $("#home_sets").append(home_sets);
                            }
                            var home_curr = '<div class="cell" style="padding:0px;height: 17px;width: 30px;font-size: 12px;"><span>' + data["score"]["home"]["games"] + '</span></div>';
                            $("#home_sets").append(home_curr);

                            var away_finish = data["score"]["away"]["gameSequence"];
                            $("#away_sets").empty();
                            for (var i = 0; i < away_finish.length; i++) {
                                var away_sets = '<div class="cell" style="padding:0px;height: 17px;width: 30px;font-size: 12px;color:#9d9d9d;"><span>' + away_finish[i] + '</span></div>';
                                $("#away_sets").append(away_sets);
                            }
                            var away_curr = '<div class="cell" style="padding:0px;height: 17px;width: 30px;font-size: 12px;"><span>' + data["score"]["away"]["games"] + '</span></div>';
                            $("#away_sets").append(away_curr);

                            $("#teamAwin").html(data["score"]["home"]["sets"]);
                            $("#score1").html(data["score"]["home"]["score"]);
                            $("#teamBwin").html(data["score"]["away"]["sets"]);
                            $("#score2").html(data["score"]["away"]["score"]);
                        }
                        else {
                            $("#tennis_score").css("display", "none");
                        }
                    }
                    catch (e) {

                    }

                };
                request.send();
            }
            setTimeout(function () { tennis_score(); }, 1000);
        }
        function cricket_score() {
            matchId = $("#sessionEVID").val();
            var request = createCORSRequest("get", "https://ips.betfair.com/inplayservice/v1/eventTimeline?_ak=nzIFcwyWhrlwYMrh&alt=json&eventId=" + matchId + "&locale=en&productType=EXCHANGE&regionCode=ASIA");
            if (request) {
                request.onload = function (response) {
                    //console.log(response);
                    var fhg = response["target"]["response"];
                    //alert(fhg);
                    var response1 = JSON.parse(fhg);
                    try {
                        var gyg = Object.entries(response1).length;
                        if (gyg > 0) {
                            $("#cricket_score").css("display", "flex");

                            var TeamAhighlight = (response1["score"]["home"]["highlight"]).toString();
                            var TeamBhighlight = (response1["score"]["away"]["highlight"]).toString();

                            var TeamAInn1 = response1["score"]["home"]["inning1"];
                            var TeamAInn2 = response1["score"]["home"]["inning2"];
                            var TeamBInn1 = response1["score"]["away"]["inning1"];
                            var TeamBInn2 = response1["score"]["away"]["inning2"];
                            if (typeof TeamAInn2 == "undefined" && typeof TeamBInn2 == "undefined") {
                                $("#inning2data").css("display", "none");
                            }
                            else {
                                $("#inning2data").css("display", "");
                            }
                            if (TeamAhighlight == "true") {
                                if (typeof TeamAInn2 == "undefined") {
                                    $("#inning1TeamA").addClass("highlight");
                                }
                                else {
                                    $("#inning2TeamA").addClass("highlight");
                                }
                            }
                            if (TeamBhighlight == "true") {
                                if (typeof TeamBInn2 == "undefined") {
                                    $("#inning1TeamB").addClass("highlight");
                                }
                                else {
                                    $("#inning2TeamB").addClass("highlight");
                                }
                            }

                            if (typeof TeamAInn1 == "undefined") {
                                var team_a_score = "Yet to bet";
                                $("#TeamARuns").text(team_a_score);
                            }
                            else {
                                var TeamARuns = TeamAInn1["runs"];
                                var TeamAWickets = TeamAInn1["wickets"];
                                var TeamAOvers = TeamAInn1["overs"];
                                if (TeamAWickets == "ALL_OUT") {
                                    var TeamAWickets = "";
                                }
                                else {
                                    var TeamAWickets = "&nbsp;/" + TeamAWickets;
                                }
                                $("#TeamARuns").text(TeamARuns);
                                $("#TeamAWickets").html(TeamAWickets);
                                $("#TeamAOvers").html("&nbsp; (" + TeamAOvers + ")");

                            }
                            if (typeof TeamAInn2 == "undefined") {
                                var team_a_score1 = "Yet to bet";
                                $("#TeamARuns1").text(team_a_score1);
                            }
                            else {
                                var TeamARuns1 = TeamAInn2["runs"];
                                var TeamAWickets1 = TeamAInn2["wickets"];
                                var TeamAOvers1 = TeamAInn2["overs"];
                                if (TeamAWickets1 == "ALL_OUT") {
                                    var TeamAWickets1 = "";
                                }
                                else {
                                    var TeamAWickets1 = "&nbsp;/" + TeamAWickets1;
                                }
                                $("#TeamARuns1").text(TeamARuns1);
                                $("#TeamAWickets1").html(TeamAWickets1);
                                $("#TeamAOvers1").html("&nbsp; (" + TeamAOvers1 + ")");

                            }
                            if (typeof TeamBInn1 == "undefined") {
                                var team_b_score = "Yet to bet";
                                $("#TeamBRuns").text(team_b_score);
                            }
                            else {
                                var TeamBRuns = TeamBInn1["runs"];
                                var TeamBWickets = TeamBInn1["wickets"];
                                var TeamBOvers = TeamBInn1["overs"];
                                if (TeamBWickets == "ALL_OUT") {
                                    var TeamBWickets = "";
                                }
                                else {
                                    var TeamBWickets = "&nbsp;/" + TeamBWickets;
                                }
                                $("#TeamBRuns").text(TeamBRuns);
                                $("#TeamBWickets").html(TeamBWickets);
                                $("#TeamBOvers").html("&nbsp; (" + TeamBOvers + ")");
                            }
                            if (typeof TeamBInn2 == "undefined") {
                                var team_b_score1 = "Yet to bet";
                                $("#TeamBRuns1").text(team_b_score1);
                            }
                            else {
                                var TeamBRuns1 = TeamBInn2["runs"];
                                var TeamBWickets1 = TeamBInn2["wickets"];
                                var TeamBOvers1 = TeamBInn2["overs"];
                                if (TeamBWickets1 == "ALL_OUT") {
                                    var TeamBWickets1 = "";
                                }
                                else {
                                    var TeamBWickets1 = "&nbsp;/" + TeamBWickets1;
                                }
                                $("#TeamBRuns1").text(TeamBRuns1);
                                $("#TeamBWickets1").html(TeamBWickets1);
                                $("#TeamBOvers1").html("&nbsp; (" + TeamBOvers1 + ")");
                            }
                        }
                    }
                    catch (e) {

                    }
                };
                request.send();
            }
            setTimeout(function () { cricket_score(); }, 1000);
        }
    </script>

    <script>
        $(document).ready(function () {
            $('#hidelivetv').click(
                function () {
                    //show its submenu
                    $("#live_tv_view").stop().slideToggle(500);
                }
            );
        });
    </script>
}